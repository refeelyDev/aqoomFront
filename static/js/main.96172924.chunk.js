(window.webpackJsonpchatbot_manage=window.webpackJsonpchatbot_manage||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/grayline.beaba093.svg"},182:function(e,t,a){e.exports=a.p+"static/media/AQOOM_logo.2ada93ac.png"},273:function(e,t,a){e.exports=a.p+"static/media/Hand.33162f95.svg"},274:function(e,t,a){e.exports=a.p+"static/media/messagebubbles.9979cc47.svg"},275:function(e,t,a){e.exports=a.p+"static/media/memberprofile.415e9544.svg"},276:function(e,t,a){e.exports=a.p+"static/media/spam.4b517870.svg"},279:function(e,t,a){e.exports=a.p+"static/media/interaction_line.c66dd7ac.svg"},280:function(e,t,a){e.exports=a.p+"static/media/interaction_bubble.ca20be28.svg"},281:function(e,t,a){e.exports=a.p+"static/media/moderation_line.a1f4329f.svg"},282:function(e,t,a){e.exports=a.p+"static/media/moderation_bubble.adbedcb9.svg"},283:function(e,t,a){e.exports=a.p+"static/media/analytics_line.e258e440.svg"},284:function(e,t,a){e.exports=a.p+"static/media/AQOOM_whitelogo.311ee2ce.svg"},285:function(e,t,a){e.exports=a.p+"static/media/aqoom_beta_logo.69b2b3c6.svg"},286:function(e,t,a){e.exports=a.p+"static/media/opentelegram_normal.f92e1346.svg"},287:function(e,t,a){e.exports=a.p+"static/media/ban_normal.2beb9e58.svg"},288:function(e,t,a){e.exports=a.p+"static/media/kick_normal.8177ec3b.svg"},289:function(e,t,a){e.exports=a.p+"static/media/reply_normal.2c1c3f0c.svg"},290:function(e,t,a){e.exports=a.p+"static/media/delete_normal.a4773144.svg"},291:function(e,t,a){e.exports=a(637)},296:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},434:function(e,t,a){},637:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(270),r=a.n(s),c=(a(296),a(13)),o=a(14),l=a(15),m=a(22),u=a(64),d=a(28),p=(a(299),a(3)),h=a(4),_=a(6),g=a(5),f=a(131),v=a(273),b=a.n(v),E=a(274),y=a.n(E),k=a(275),w=a.n(k),S=a(276),C=a.n(S),N=(a(300),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(p.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"app_container"},i.a.createElement(f.a,null,i.a.createElement("title",null,"AQOOM telegram CRM service"),i.a.createElement("meta",{name:"description",content:"Telegram chat bot related with CRM. make you easy to manage your supergroup community. you can control all the featues in the dashboard."}),i.a.createElement("meta",{name:"twitter:card",content:"summary"}),i.a.createElement("meta",{name:"twitter:title",content:"AQOOM CRM bot service"}),i.a.createElement("meta",{name:"twitter:description",content:"Telegram CRM bot service. easy to manage your supergroup community and grow it up more effectively."}),i.a.createElement("meta",{name:"twitter:image",content:"https://aqoom.chat/AQOOM_logo_whiteBG.jpg"}),i.a.createElement("meta",{name:"twitter:site",content:"https://aqoom.chat/"})),i.a.createElement("div",{className:"main_contents"},i.a.createElement("section",{className:"main_intro"},i.a.createElement("div",{className:"intro_desc"},i.a.createElement("h2",{itemProp:""},"managing Telegram groups made easier"),i.a.createElement("p",null,"Creating solutions for Community Managers to have an easy and deep interaction with users while obtaining the right data that can help further grow your community."),i.a.createElement(l.b,{to:"/signin"},"Try AQOOM")),i.a.createElement("div",{className:"intro_img",itemScope:!0,itemType:"http://schema.org/Drawing"},i.a.createElement("img",{src:b.a,alt:"telegram CRM bot service",itemProp:"hand drawing"}))),i.a.createElement("section",{className:"main_features",id:"main_features"},i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:y.a,alt:"CRM feature messaging window"})),i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"listen ",i.a.createElement("br",null),"& interact"),i.a.createElement("p",null,"With an all-in-one interface, you know you can listen and interact with your users effectively. There\u2019s a dedicated space for questions and messages directed for admins, so you\u2019ll never miss an opportunity to reply and interact."))),i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"growth and user focused"),i.a.createElement("p",null,"All the information you know you need to know about your community and users are all included. With these data, you can strategize, plan ahead for your future events and promotions.")),i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:w.a,alt:"CRM feature user profile"}))),i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:C.a,alt:"CRM feature anti spam, block anonymous user"})),i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"protecting ",i.a.createElement("br",null),"your community"),i.a.createElement("p",null,"We are sure that your community will be protected in any form of spam. With basic to advanced filters, you have full control over your community. These can protect and improve your brand image.")))),i.a.createElement("section",{className:"main_footer"},i.a.createElement("div",{className:"footer_desc"},i.a.createElement("p",null,"Start and grow your community with ease! ",i.a.createElement("br",null)," Manage it like never before.")),i.a.createElement(l.b,{to:"/signin"},"Try AQOOM"))))}}]),a}(i.a.Component)),T=a(2),A=a.n(T),M=a(182),x=a.n(M),O=a(278),I=a.n(O),j=(a(320),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(p.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"checkValidation",value:function(e){var t=this;A.a.post("checkValidation",{id:e},{withCredentials:!0}).then((function(e){if(200===e.status)if(!1!==e.data){window.localStorage.setItem("chat_id_list",JSON.stringify(e.data.id)),window.localStorage.setItem("chat_id",e.data.id[0]);var a=t.getUTCExpiredTime();document.cookie="living=true; expires="+a,window.location.href="/"}else alert("it's not valid input. check again if chat Room's name or activation code is valid.")}))}},{key:"getUTCExpiredTime",value:function(){var e=new Date,t=e.getTime()+72e5;return e.setTime(t),e.toUTCString()}},{key:"onTelegramAuth",value:function(e){this.checkValidation(e.id),window.sessionStorage.setItem("tel_id",e.id)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"signin_container"},i.a.createElement("div",{className:"aqoom_logo"},i.a.createElement("img",{src:x.a,alt:"aqoom logo"})),i.a.createElement("div",{className:"login_box"},i.a.createElement("p",{className:"login_info"},"Please login with your Telegram ",i.a.createElement("br",null),"to proceed to your dashboard."),i.a.createElement(I.a,{dataOnauth:function(t){return e.onTelegramAuth(t)},botName:this.props.botName}),i.a.createElement("p",{className:"login_help"},"AQOOM uses Telegram Secure ID to provide seamless automation of group management services. To learn more about Telegram Login works for websites, click ",i.a.createElement("a",{href:"https://telegram.org/blog/login"},"here"),". ",i.a.createElement("br",null),i.a.createElement("br",null)," Having trouble logging in? Contact us at",i.a.createElement("a",{href:"mailto:info@aqoom.com"}," info@aqoom.com"))))}}]),a}(i.a.Component)),U=(a(321),a(101)),D=a.n(U),B=a(279),L=a.n(B),q=a(280),P=a.n(q),W=a(281),z=a.n(W),F=a(282),R=a.n(F),H=a(283),Z=a.n(H),K=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={list_interaction:["Collected Questions","Messages Directed to Admins","Scheduled Announcemnets","Welcome Messages"],list_moderation:["Anti-Spam","Filters","Warning Points System","Activity Notification"],list_analytics:["Scheduled Reports","User data insights","Community Reports","Bot performance"]},n}return Object(h.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"features_container"},i.a.createElement(f.a,null,i.a.createElement("title",null,"AQOOM telegram CRM service features"),i.a.createElement("meta",{name:"description",content:"introduce for Telegram customer relationship management service. let you see all wonderful features as a free!"}),i.a.createElement("meta",{name:"twitter:card",content:"summary"}),i.a.createElement("meta",{name:"twitter:title",content:"AQOOM CRM bot service"}),i.a.createElement("meta",{name:"twitter:description",content:"Telegram CRM bot service. easy to manage your supergroup community and grow it up more effectively."}),i.a.createElement("meta",{name:"twitter:image",content:"https://aqoom.chat/AQOOM_logo_whiteBG.jpg"}),i.a.createElement("meta",{name:"twitter:site",content:"https://aqoom.chat/"})),i.a.createElement("section",{className:"features_intro"},i.a.createElement("h2",{className:"session_title"},"just the right features."),i.a.createElement("p",{className:"session_desc"},"We collected all the features that you need for your growing Telegram community. These features can help you have the right tools managing and moderating your groups."),i.a.createElement("a",{href:"#/signin"},"Try AQOOM")),i.a.createElement("section",{className:"features_interaction"},i.a.createElement("img",{src:D.a,alt:"aqoom can insteract with all user of your communities"}),i.a.createElement("img",{src:L.a,alt:"user interaction is a key to improve your communities."}),i.a.createElement("h2",{className:"session_title"},"interaction"),i.a.createElement("ul",null,this.state.list_interaction.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"Interacting with your users has never been this easy. With an all-in-one interface where you can directly reply to questions, answer queries, or just reply to different kind of messages, you\u2019ll never miss an opportunity to indulge in to a conversation. You can also directly ban, kick, or delete a message in the same message log. You can also set different announcements for different times."),i.a.createElement("img",{src:P.a,alt:"telegram CRM feature, available kick, ban, delete message and so on"})),i.a.createElement("section",{className:"features_moderation"},i.a.createElement("img",{src:D.a,alt:"AQOOM gray line"}),i.a.createElement("img",{src:z.a,alt:"moderate chat group. available anti spam, message fileter"}),i.a.createElement("h2",{className:"session_title"},"moderation"),i.a.createElement("ul",null,this.state.list_moderation.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"From basic to advanced filters, you know that there\u2019s no message that is going to be out of control. You have full control over on what are allowed and restricted in your chat group. And with the Warning Points System, you have an option to send warnings, ban, or kick a member who accumulated a certain amount of points. And even if you have not turned on a filter, you\u2019ll be notified on what is on and what you could be changed."),i.a.createElement("img",{src:R.a,alt:"Telegram chat group moderation feature"})),i.a.createElement("section",{className:"features_analytics"},i.a.createElement("img",{src:D.a,alt:"aqoom gray line"}),i.a.createElement("img",{src:Z.a,alt:"you are able to see an analytics chart of your group. it will make you be inspired."}),i.a.createElement("h2",{className:"session_title"},"data & analytics"),i.a.createElement("ul",null,this.state.list_analytics.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"We provide the right data for your Community Managers to gain insights about your users to strategize and formulate your new next event or promotion! You can also receive reports whenever you want it, no reminders needed! In addition to that you\u2019ll know how much is your bot performing in your Telegram groups. So you\u2019ll know if you need to be more lenient or if you just have just the right restrictions.")),i.a.createElement("img",{src:D.a,alt:"aqoom gray line"}),i.a.createElement("h4",{className:"foot_desc"},"Just the right amount of features that fits your needs."),i.a.createElement("a",{href:"#/signin"},"Try AQOOM"))}}]),a}(i.a.Component),V=a(102),G=a.n(V),J=a(185),Y=(a(323),function(e,t,a){u.a.event({category:e,action:t,label:a})}),Q=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={default_info:[],group_list:[],current_group:[],current_group_members_cnt:0},n}return Object(h.a)(a,[{key:"getChatGroupInfos",value:function(){var e=Object(J.a)(G.a.mark((function e(t){var a,n,s=this;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(J.a)(G.a.mark((function e(a){var n,i,s,r,o,l,m,u,d,p,h,_,g,f;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=Object(c.a)(t),e.prev=2,i.s();case 4:if((s=i.n()).done){e.next=38;break}return r=s.value,e.prev=6,o=window.sessionStorage.getItem("tel_id"),e.next=10,A.a.post("https://api.telegram.org/bot".concat(a,"/getChatAdministrators"),{chat_id:r});case 10:if(l=e.sent,m=!1,l.data.ok){u=Object(c.a)(l.data.result);try{for(u.s();!(d=u.n()).done;)(p=d.value).user.id!=o||p.user.is_bot||(m=!0)}catch(v){u.e(v)}finally{u.f()}}if(m){e.next=17;break}return e.abrupt("continue",36);case 17:return e.next=19,A.a.post("https://api.telegram.org/bot".concat(a,"/getChat"),{chat_id:r});case 19:if(!(h=e.sent).data.result.permissions.can_send_messages){e.next=31;break}if(!h.data.result.photo){e.next=29;break}return e.next=24,A.a.get("https://api.telegram.org/bot".concat(a,"/getFile?file_id=")+h.data.result.photo.small_file_id);case 24:_=e.sent,g={id:h.data.result.id,photo:_.data.result.file_path,title:h.data.result.title},n.push(g),e.next=31;break;case 29:f={id:h.data.result.id,photo:"",title:h.data.result.title},n.push(f);case 31:e.next=36;break;case 33:return e.prev=33,e.t0=e.catch(6),e.abrupt("continue",36);case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(2),i.e(e.t1);case 43:return e.prev=43,i.f(),e.finish(43);case 46:return e.abrupt("return",n);case 47:case"end":return e.stop()}}),e,null,[[2,40,43,46],[6,33]])})));return function(t){return e.apply(this,arguments)}}(),e.next=3,a(this.props.botId);case 3:n=e.sent,this.setState({group_list:n.map((function(e,t){return i.a.createElement("div",{className:"group_list",key:t,"data-chatid":e.id,onClick:function(e){return s.change_group(e)}},i.a.createElement("div",{className:"group_img"},e.photo?i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(s.props.botId,"/").concat(e.photo),alt:"group profile image"}):null),i.a.createElement("div",{className:"group_title"},i.a.createElement("p",null,e.title)))}))});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChatInfos",value:function(e){var t=this;if(e)return A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChat"),{chat_id:e}).then((function(e){if(e.data.result.photo)A.a.get("https://api.telegram.org/bot".concat(t.props.botId,"/getFile?file_id=")+e.data.result.photo.small_file_id).then((function(a){var n={id:e.data.result.id,photo:a.data.result.file_path,title:e.data.result.title};t.setState({current_group:n})}));else{var a={id:e.data.result.id,photo:"",title:e.data.result.title};t.setState({current_group:a})}}))}},{key:"getChatMemCount",value:function(e){var t=this;return A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChatMembersCount"),{chat_id:e}).then((function(e){t.setState({current_group_members_cnt:e.data.result})}))}},{key:"componentWillMount",value:function(){var e=JSON.parse(window.localStorage.getItem("chat_id_list")),t=window.localStorage.getItem("chat_id");t&&(this.getChatInfos(t),this.getChatMemCount(t)),this.getChatGroupInfos(e)}},{key:"change_group",value:function(e){window.localStorage.setItem("chat_id",e.currentTarget.dataset.chatid),window.location.reload(),Y("navigation","Change group","change group")}},{key:"activeNav",value:function(e){var t=document.querySelector(".nav_contents > a.active");return t&&t.classList.remove("active"),document.querySelector(".nav_contents > a:nth-child(".concat(e,")")).classList.add("active"),this.setGAEvent(e),!1}},{key:"setGAEvent",value:function(e){switch(e){case 1:Y("navigation","change category","Analystic");break;case 2:Y("navigation","change category","Members");break;case 3:Y("navigation","change category","Messages");break;case 4:Y("navigation","change category","Interactions");break;case 5:Y("navigation","change category","Anti-spam");break;case 6:Y("navigation","change category","Setting")}}},{key:"dragoutGrouplist",value:function(){document.querySelector(".nav_groups").classList.add("active"),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",this.draginGrouplist)}},{key:"draginGrouplist",value:function(){document.querySelector(".nav_groups").classList.remove("active"),document.querySelector(".dim").style.display="none"}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"left_nav"},i.a.createElement("div",{className:"current_group",onClick:function(){return e.dragoutGrouplist()}},i.a.createElement("div",{className:"group_img"},this.state.current_group.photo?i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/").concat(this.state.current_group.photo),alt:"group profile image"}):null),i.a.createElement("div",{className:"group_title"},i.a.createElement("p",null,this.state.current_group.title),i.a.createElement("p",null,this.state.current_group_members_cnt," members")),i.a.createElement("div",{className:"arrow_down_icon"})),i.a.createElement("div",{className:"nav_groups"},this.state.group_list),i.a.createElement("div",{className:"nav_contents"},i.a.createElement(l.b,{to:"/analytics",onClick:function(t){return e.activeNav(1)}},i.a.createElement("i",{className:"icon icon-analytics"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8.727",viewBox:"0 0 16 8.727"},i.a.createElement("path",{id:"ic_timeline_24px",d:"M17,7.455a1.459,1.459,0,0,1-1.455,1.455,1.236,1.236,0,0,1-.371-.051L12.585,11.44a1.285,1.285,0,0,1,.051.378,1.455,1.455,0,1,1-2.909,0,1.285,1.285,0,0,1,.051-.378L7.924,9.585a1.43,1.43,0,0,1-.756,0L3.858,12.9a1.236,1.236,0,0,1,.051.371,1.455,1.455,0,1,1-1.455-1.455,1.236,1.236,0,0,1,.371.051L6.142,8.56a1.285,1.285,0,0,1-.051-.378A1.455,1.455,0,0,1,9,8.182a1.285,1.285,0,0,1-.051.378L10.8,10.415a1.43,1.43,0,0,1,.756,0l2.582-2.589a1.236,1.236,0,0,1-.051-.371,1.455,1.455,0,1,1,2.909,0Z",transform:"translate(-1 -6)",fill:"currentColor"})))," Analytics"),i.a.createElement(l.b,{to:"/members",onClick:function(t){return e.activeNav(2)}},i.a.createElement("i",{className:"icon icon-members"},i.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-friends",className:"svg-inline--fa fa-user-friends fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},i.a.createElement("path",{fill:"currentColor",d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"})))," Members"),i.a.createElement(l.b,{to:"/messages",onClick:function(t){return e.activeNav(3)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},i.a.createElement("path",{id:"ic_question_answer_24px",d:"M17.2,5.2H15.6v7.2H5.2V14a.8.8,0,0,0,.8.8h8.8L18,18V6A.8.8,0,0,0,17.2,5.2ZM14,10V2.8a.8.8,0,0,0-.8-.8H2.8a.8.8,0,0,0-.8.8V14l3.2-3.2h8A.8.8,0,0,0,14,10Z",transform:"translate(-2 -2)",fill:"currentColor"})))," Messages"),i.a.createElement(l.b,{to:"/interactions",onClick:function(t){return e.activeNav(4)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"13.819",viewBox:"0 0 16 13.819"},i.a.createElement("g",{id:"ic_record_voice_over_24px",transform:"translate(-1 -2)"},i.a.createElement("circle",{id:"Ellipse_3","data-name":"Ellipse 3",cx:"3",cy:"3",r:"3",transform:"translate(3.996 4)",fill:"currentColor"}),i.a.createElement("path",{id:"Path_3","data-name":"Path 3",d:"M6.819,11.455C4.877,11.455,1,12.43,1,14.364v1.455H12.637V14.364C12.637,12.43,8.76,11.455,6.819,11.455Zm5.644-7.011L11.241,5.673a2.413,2.413,0,0,1,0,2.829l1.222,1.229a3.722,3.722,0,0,0,0-5.288ZM14.87,2,13.684,3.186a5.8,5.8,0,0,1,0,7.811l1.186,1.186A7.149,7.149,0,0,0,14.87,2Z",fill:"currentColor"}))))," Interactions"),i.a.createElement(l.b,{to:"/antispam",onClick:function(t){return e.activeNav(5)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},i.a.createElement("path",{id:"ic_feedback_24px",d:"M16.4,2H3.6A1.6,1.6,0,0,0,2.008,3.6L2,18l3.2-3.2H16.4A1.6,1.6,0,0,0,18,13.2V3.6A1.6,1.6,0,0,0,16.4,2Zm-5.6,9.6H9.2V10h1.6Zm0-3.2H9.2V5.2h1.6Z",transform:"translate(-2 -2)",fill:"currentColor"})))," Anti-Spam"),i.a.createElement(l.b,{to:"/settings",onClick:function(t){return e.activeNav(6)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16.449",viewBox:"0 0 16 16.449"},i.a.createElement("path",{id:"ic_settings_24px",d:"M16.383,11.03a6.409,6.409,0,0,0,.058-.806,6.41,6.41,0,0,0-.058-.806l1.735-1.357a.415.415,0,0,0,.1-.526L16.572,4.689a.413.413,0,0,0-.5-.181l-2.048.822a6.009,6.009,0,0,0-1.39-.806L12.32,2.345a.4.4,0,0,0-.4-.345H8.628a.4.4,0,0,0-.4.345L7.912,4.525a6.319,6.319,0,0,0-1.39.806L4.474,4.508a.4.4,0,0,0-.5.181L2.328,7.535a.405.405,0,0,0,.1.526L4.162,9.418a6.522,6.522,0,0,0-.058.806,6.522,6.522,0,0,0,.058.806L2.426,12.387a.415.415,0,0,0-.1.526l1.645,2.846a.413.413,0,0,0,.5.181l2.048-.822a6.009,6.009,0,0,0,1.39.806L8.225,18.1a.4.4,0,0,0,.4.345h3.29a.4.4,0,0,0,.4-.345l.313-2.179a6.319,6.319,0,0,0,1.39-.806l2.048.822a.4.4,0,0,0,.5-.181l1.645-2.846a.415.415,0,0,0-.1-.526ZM10.272,13.1a2.879,2.879,0,1,1,2.879-2.879A2.882,2.882,0,0,1,10.272,13.1Z",transform:"translate(-2.271 -2)",fill:"currentColor"})))," Settings")))}}]),a}(i.a.Component),$=(a(324),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(h.a)(a,[{key:"activeNav",value:function(e){var t=document.querySelector(".nav_contents > a.active");return t&&t.classList.remove("active"),document.querySelector(".nav_contents > a:nth-child(".concat(e,")")).classList.add("active"),!1}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"right_drawer_m"},i.a.createElement("div",{className:"nav_contents"},i.a.createElement(l.b,{to:"/analytics",onClick:function(t){return e.activeNav(1)}},i.a.createElement("i",{className:"icon icon-analytics"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8.727",viewBox:"0 0 16 8.727"},i.a.createElement("path",{id:"ic_timeline_24px",d:"M17,7.455a1.459,1.459,0,0,1-1.455,1.455,1.236,1.236,0,0,1-.371-.051L12.585,11.44a1.285,1.285,0,0,1,.051.378,1.455,1.455,0,1,1-2.909,0,1.285,1.285,0,0,1,.051-.378L7.924,9.585a1.43,1.43,0,0,1-.756,0L3.858,12.9a1.236,1.236,0,0,1,.051.371,1.455,1.455,0,1,1-1.455-1.455,1.236,1.236,0,0,1,.371.051L6.142,8.56a1.285,1.285,0,0,1-.051-.378A1.455,1.455,0,0,1,9,8.182a1.285,1.285,0,0,1-.051.378L10.8,10.415a1.43,1.43,0,0,1,.756,0l2.582-2.589a1.236,1.236,0,0,1-.051-.371,1.455,1.455,0,1,1,2.909,0Z",transform:"translate(-1 -6)",fill:"currentColor"})))),i.a.createElement(l.b,{to:"/members",onClick:function(t){return e.activeNav(2)}},i.a.createElement("i",{className:"icon icon-members"},i.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-friends",className:"svg-inline--fa fa-user-friends fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"16",height:"16"},i.a.createElement("path",{fill:"currentColor",d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"})))),i.a.createElement(l.b,{to:"/messages",onClick:function(t){return e.activeNav(3)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},i.a.createElement("path",{id:"ic_question_answer_24px",d:"M17.2,5.2H15.6v7.2H5.2V14a.8.8,0,0,0,.8.8h8.8L18,18V6A.8.8,0,0,0,17.2,5.2ZM14,10V2.8a.8.8,0,0,0-.8-.8H2.8a.8.8,0,0,0-.8.8V14l3.2-3.2h8A.8.8,0,0,0,14,10Z",transform:"translate(-2 -2)",fill:"currentColor"})))),i.a.createElement(l.b,{to:"/interactions",onClick:function(t){return e.activeNav(4)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"13.819",viewBox:"0 0 16 13.819"},i.a.createElement("g",{id:"ic_record_voice_over_24px",transform:"translate(-1 -2)"},i.a.createElement("circle",{id:"Ellipse_3","data-name":"Ellipse 3",cx:"3",cy:"3",r:"3",transform:"translate(3.996 4)",fill:"currentColor"}),i.a.createElement("path",{id:"Path_3","data-name":"Path 3",d:"M6.819,11.455C4.877,11.455,1,12.43,1,14.364v1.455H12.637V14.364C12.637,12.43,8.76,11.455,6.819,11.455Zm5.644-7.011L11.241,5.673a2.413,2.413,0,0,1,0,2.829l1.222,1.229a3.722,3.722,0,0,0,0-5.288ZM14.87,2,13.684,3.186a5.8,5.8,0,0,1,0,7.811l1.186,1.186A7.149,7.149,0,0,0,14.87,2Z",fill:"currentColor"}))))),i.a.createElement(l.b,{to:"/antispam",onClick:function(t){return e.activeNav(5)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},i.a.createElement("path",{id:"ic_feedback_24px",d:"M16.4,2H3.6A1.6,1.6,0,0,0,2.008,3.6L2,18l3.2-3.2H16.4A1.6,1.6,0,0,0,18,13.2V3.6A1.6,1.6,0,0,0,16.4,2Zm-5.6,9.6H9.2V10h1.6Zm0-3.2H9.2V5.2h1.6Z",transform:"translate(-2 -2)",fill:"currentColor"})))),i.a.createElement(l.b,{to:"/settings",onClick:function(t){return e.activeNav(6)}},i.a.createElement("i",{className:"icon icon-messages"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16.449",viewBox:"0 0 16 16.449"},i.a.createElement("path",{id:"ic_settings_24px",d:"M16.383,11.03a6.409,6.409,0,0,0,.058-.806,6.41,6.41,0,0,0-.058-.806l1.735-1.357a.415.415,0,0,0,.1-.526L16.572,4.689a.413.413,0,0,0-.5-.181l-2.048.822a6.009,6.009,0,0,0-1.39-.806L12.32,2.345a.4.4,0,0,0-.4-.345H8.628a.4.4,0,0,0-.4.345L7.912,4.525a6.319,6.319,0,0,0-1.39.806L4.474,4.508a.4.4,0,0,0-.5.181L2.328,7.535a.405.405,0,0,0,.1.526L4.162,9.418a6.522,6.522,0,0,0-.058.806,6.522,6.522,0,0,0,.058.806L2.426,12.387a.415.415,0,0,0-.1.526l1.645,2.846a.413.413,0,0,0,.5.181l2.048-.822a6.009,6.009,0,0,0,1.39.806L8.225,18.1a.4.4,0,0,0,.4.345h3.29a.4.4,0,0,0,.4-.345l.313-2.179a6.319,6.319,0,0,0,1.39-.806l2.048.822a.4.4,0,0,0,.5-.181l1.645-2.846a.415.415,0,0,0-.1-.526ZM10.272,13.1a2.879,2.879,0,1,1,2.879-2.879A2.882,2.882,0,0,1,10.272,13.1Z",transform:"translate(-2.271 -2)",fill:"currentColor"}))))))}}]),a}(i.a.Component)),X=(a(325),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={default_info:[],chat_photo:[],isOpen:!1,state_loading:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("chat_id"),a=window.sessionStorage.getItem("tel_id");A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChatMember"),{chat_id:t,user_id:a}).then((function(t){e.setState({default_info:t.data.result.user}),t.data.result.photo&&A.a.get("https://api.telegram.org/bot".concat(e.props.botId,"/getFile?file_id=")+t.data.result.photo.small_file_id).then((function(t){e.setState({chat_photo:t.data.result})}))})).catch((function(e){return console.log(e),!1})),A.a.post("/getTimezone",{chat_id:t}).then((function(e){e.data&&window.localStorage.setItem("tz_set",e.data.timezone)}))}},{key:"getHeaderPhoto",value:function(){return void 0!==this.state.chat_photo.file_path?i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/")+this.state.chat_photo.file_path,alt:"user profile image"}):""}},{key:"toggleDropbox",value:function(){this.state.isOpen?this.setState({isOpen:!1}):this.setState({isOpen:!0})}},{key:"logout",value:function(){window.localStorage.removeItem("chat_id"),document.cookie="living=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="STAY_C=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_header"},i.a.createElement("a",{href:"/#/chatmanager/members",className:"header_logo"}),i.a.createElement("a",{className:"mobile_logout",onClick:function(){return e.logout()}},"LOG OUT"),i.a.createElement("div",{className:"header_infos"},i.a.createElement("div",{className:"header_name",onClick:function(){return e.toggleDropbox()}},i.a.createElement("span",null,this.state.default_info.username),i.a.createElement("span",{className:"icon icon-down"})),i.a.createElement("ul",{className:this.state.isOpen?"header_drop open":"header_drop"},i.a.createElement("li",null,this.state.default_info.username),i.a.createElement("li",{style:{color:"#2F2F2F",cursor:"pointer"},onClick:function(){return e.logout()}},"LOG OUT")),i.a.createElement("div",{className:"header_photo"},this.getHeaderPhoto())))}}]),a}(i.a.Component)),ee=a(284),te=a.n(ee);var ae=function(e){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"footer_container"},i.a.createElement("div",{className:"footer_left"},i.a.createElement("div",{className:"aqoom_logo"},i.a.createElement("img",{src:te.a,alt:"aqoom logo"})),i.a.createElement("div",{className:"aqoom_right"},"All rights reserved 2020 \xa9 AQOOM")),i.a.createElement("div",{className:"footer_right"},i.a.createElement("a",{href:"https://www.termsofusegenerator.net/live.php?token=bfjrGrvymG981xJEZe0FNhD9m93wfkm6",target:"_blank"},"Terms Of Use"),i.a.createElement("a",{href:"http://aqoom.info/",target:"_blank"},"ABOUT US"),i.a.createElement("a",{href:"mailto:contact@aqoom.com"},"CONTACT US"))))},ne=a(285),ie=a.n(ne);var se=function(e){return i.a.createElement("header",{className:"App-header"},i.a.createElement("a",{className:"aqoom_logo",href:"/"},i.a.createElement("img",{src:ie.a,alt:"aqoom logo"})),i.a.createElement("div",{className:"nav_menus"},i.a.createElement("a",{href:"/#/features"},"Features"),e.onLogin?i.a.createElement(l.b,{to:"/members",className:"signin_btn",onClick:function(){var t=new Date,a=t.getTime()+72e5;t.setTime(a),document.cookie="STAY_C=true; expires="+t.toUTCString(),e.setValid(!0)}},"To Console"):i.a.createElement(l.b,{to:"/signin",className:"signin_btn"},"Sign in")))},re=a(130);var ce=function(e){return i.a.createElement("div",{className:"section_title"},i.a.createElement("h2",{className:"title"},e.title))};a(326);function oe(e){return document.querySelector("div[class^=opt].active").classList.remove("active"),e.currentTarget.classList.add("active"),!1}var le=function(e){return i.a.createElement("div",{className:"tab_wrap"},i.a.createElement("div",{className:"opt_1 active",onClick:function(t){oe(t),e.active_tab(1)}},i.a.createElement("p",null,e.opt1)),i.a.createElement("div",{className:"opt_2",onClick:function(t){oe(t),e.active_tab(2)}},i.a.createElement("p",null,e.opt2)),i.a.createElement("div",{className:"opt_3",onClick:function(t){oe(t),e.active_tab(3)}},i.a.createElement("p",null,e.opt3)),i.a.createElement("div",{className:"opt_4",onClick:function(t){oe(t),e.active_tab(4)}},i.a.createElement("p",null,e.opt4)))},me=a(286),ue=a.n(me),de=a(287),pe=a.n(de),he=a(288),_e=a.n(he),ge=a(289),fe=a.n(ge),ve=a(290),be=a.n(ve),Ee=(a(327),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={img_path:"",isExpanded:!1,open_modal:!1,modal_content:"",origin_msg:null,user_profile_photo:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data.user_id;A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getUserProfilePhotos"),{user_id:t,limit:1}).then((function(t){var a=t.data.result.photos[0][0].file_id;A.a.get("https://api.telegram.org/bot".concat(e.props.botId,"/getFile?file_id=").concat(a)).then((function(t){var a=t.data.result.file_path;e.setState({user_profile_photo:a})}))})),"file"===this.props.content&&A.a.get("https://api.telegram.org/bot".concat(this.props.botId,"/getFile?file_id=").concat(this.props.file_id)).then((function(t){var a=t.data.result.file_path;e.setState({img_path:a})})),this.props.data.reply_to_message&&A.a.post("/getMessageById",{chat_id:window.localStorage.getItem("chat_id"),message_id:this.props.data.reply_to_message}).then((function(t){e.setState({origin_msg:t.data[0]})})),this.isMobileDevice()}},{key:"isMobileDevice",value:function(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"expand_minipulation",value:function(e){document.querySelectorAll(".message_manipulation.active").forEach((function(e){return e.classList.remove("active")})),this.setState({isExpanded:!this.state.isExpanded})}},{key:"kickMember",value:function(e,t){if(window.confirm("Are you sure to kick this user?")){var a={chat_id:window.localStorage.getItem("chat_id"),user_id:e};t?(a.until_date=Date.now()+1e3,Y("Message","adjust member status","ban member")):Y("Message","adjust member status","kick member"),A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/kickChatMember"),a).then((function(e){setTimeout((function(){A.a.post("deleteUser",a),A.a.post("/pushEventBotActivity",{chat_id:a.chat_id,event:"kick"}),window.location.reload()}),2e3)}))}}},{key:"restrictMember",value:function(e){if(window.confirm("Are you sure to ban this user?")){var t={chat_id:window.localStorage.getItem("chat_id"),user_id:e,permissions:{can_send_messages:!1,can_send_media_messages:!1,can_send_polls:!1,can_send_other_messages:!1,can_pin_messages:!1,can_change_info:!1},until_date:3e5};A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/restrictChatMember"),t).then((function(e){Y("Message","adjust member status","restrict member")})).catch((function(e){return alert(e),!1}))}}},{key:"send_reply_message",value:function(e){var t=this,a={chat_id:window.localStorage.getItem("chat_id"),reply_to_message_id:e.currentTarget.dataset.mid,text:this.state.modal_content};A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/sendMessage"),a).then((function(){alert("the reply sent to chat successfully"),t.close_modal(),A.a.post("/setStateReplied",a),A.a.post("/pushEventBotActivity",{chat_id:a.chat_id,event:"reply"}),Y("Message","adjust message","reply message")}))}},{key:"delete_this_message",value:function(e){if(window.confirm("Are you sure to delete this message?")){var t={chat_id:window.localStorage.getItem("chat_id"),message_id:e};A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/deleteMessage"),t).then((function(e){!0===e.data.ok&&(A.a.post("/removeMessage",t),Y("Message","adjust message","delete"),window.location.reload())})).catch((function(e){if(!e.response.data.ok)return alert("You can only delete messages that were sent within 48 hours."),!1}))}}},{key:"updateContent",value:function(e){this.setState({modal_content:e.target.value})}},{key:"open_reply_modal",value:function(){this.setState({open_modal:!0}),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",this.close_modal.bind(this))}},{key:"close_modal",value:function(){this.setState({open_modal:!1}),document.querySelector(".dim").style.display="none"}},{key:"telegram_actions",value:function(e){switch(e){case"open":var t=this.props.data.username;window.location.href="https://t.me/".concat(t);break;case"ban":var a=this.props.data.user_id;this.kickMember(a,!0);break;case"kick":var n=this.props.data.user_id;this.kickMember(n,!1);break;case"reply":this.open_reply_modal();break;case"delete":var i=this.props.data.id;this.delete_this_message(i)}}},{key:"validateURL",value:function(){if(this.props.data.entities)return"url"===JSON.parse(this.props.data.entities)[0].type}},{key:"movetoMemberProfile",value:function(e){e&&(window.location.href="/#/user?user_id=".concat(e))}},{key:"render",value:function(){var e=this,t=new Date(this.props.data.date);return i.a.createElement("div",{className:"content_message_wrap"},i.a.createElement("div",{className:"message_owner"},i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/").concat(this.state.user_profile_photo),alt:"profile"})),i.a.createElement("div",{className:"message_contents"},i.a.createElement("div",{className:"message_header"},i.a.createElement("p",{className:"message_user",onClick:function(){return e.movetoMemberProfile(e.props.data.user_id)}},this.props.data.first_name," ",this.props.data.last_name),i.a.createElement("p",{className:"message_time"},t.getMonth()+1," / ",t.getDate()," , ",t.getHours(),":",t.getMinutes()),this.props.data.replied_date?i.a.createElement("p",null,i.a.createElement("span",{className:"replied_icon"}),i.a.createElement("span",{className:"replied_mark"},"Replied")):null),i.a.createElement("div",{className:"message_body"},null!==this.state.origin_msg?i.a.createElement("div",{className:"reply_target_message"},i.a.createElement("p",{className:"origin_message_user"},this.state.origin_msg.first_name," ",this.state.origin_msg.last_name),this.state.origin_msg.text?i.a.createElement("p",{className:"origin_message_content"},this.state.origin_msg.text):this.state.origin_msg.image?i.a.createElement("p",null,"IMAGE"):this.state.origin_msg.sticker?i.a.createElement("p",null,"STICKER"):i.a.createElement("p",null,"MEDIA")):null,"file"===this.props.content?i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/").concat(this.state.img_path),alt:"file"}):"sticker"===this.props.content?i.a.createElement("p",null,"Sticker preview unavailable"):this.validateURL()?i.a.createElement("div",null,i.a.createElement("p",null,this.props.content),i.a.createElement("div",{className:"alert_icon"},i.a.createElement("p",{className:"tooltip"},"This message could be a spam. harmful link, or sent by a fake user."),i.a.createElement("p",null,"!"))):i.a.createElement("p",null,this.props.content))),i.a.createElement("div",{className:this.state.isExpanded?"message_manipulation active":"message_manipulation",onClick:function(t){return e.expand_minipulation(t)}},i.a.createElement("div",{className:"expand_icon"})),i.a.createElement("div",{className:"message_manipulation_expand"},i.a.createElement("div",{className:"manipulation_item",onClick:function(){return e.telegram_actions("open")}},i.a.createElement("img",{src:ue.a,title:"Open in Telegram",alt:"open telegram"})),i.a.createElement("div",{className:"manipulation_item"},i.a.createElement("img",{src:pe.a,title:"Ban",onClick:function(){return e.telegram_actions("ban")},alt:"ben user"})),i.a.createElement("div",{className:"manipulation_item"},i.a.createElement("img",{src:_e.a,title:"Kick",onClick:function(){return e.telegram_actions("kick")},alt:"kick user"})),i.a.createElement("div",{className:"manipulation_item"},i.a.createElement("img",{src:fe.a,title:"Reply",onClick:function(){return e.telegram_actions("reply")},alt:"reply"})),i.a.createElement("div",{className:"manipulation_item"},i.a.createElement("img",{src:be.a,title:"Delete",onClick:function(){return e.telegram_actions("delete")},alt:"delete"}))),i.a.createElement("div",{className:this.state.open_modal?"modal reply_modal open":"modal reply_modal"},i.a.createElement("div",{className:"modal_title"},i.a.createElement("p",null,"Write a reply")),i.a.createElement("textarea",{className:"reply_content",onChange:function(t){return e.updateContent(t)},placeholder:"reply to.."}),i.a.createElement("div",{className:"modal_btn_wrap"},i.a.createElement("a",{className:"submit_btn","data-mid":this.props.data.id,onClick:function(t){return e.send_reply_message(t)}},"SUBMIT"),i.a.createElement("a",{className:"cancle_btn",onClick:function(){return e.close_modal()}},"CANCEL"))))}}]),a}(i.a.Component)),ye=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={img_path:"",contents:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.messages.map((function(t){var a=t.text?t.text:t.sticker?"sticker":"file";if("file"!==a)return i.a.createElement(Ee,{content:a,data:t,key:t.id,botId:e.props.botId,is_allMessages:e.props.is_allMessages});var n=t.photo?t.photo:t.video?t.video:t.audio?t.audio:void 0;if(n){var s=JSON.parse(n);s.length>1&&(s=s[0]);var r=s.file_id;return i.a.createElement(Ee,{content:a,data:t,key:t.id,botId:e.props.botId,file_id:r,is_allMessages:e.props.is_allMessages})}}));return i.a.createElement("div",{className:"content_tab"},0!==t.length?t:i.a.createElement("div",{className:"emtpy_section"},i.a.createElement("p",null,"No messages yet")))}}]),a}(i.a.Component);a(328);function ke(e){switch(e.tab){case 1:return i.a.createElement(ye,{messages:e.messages,botId:e.botId,is_allMessages:!0});case 2:return i.a.createElement(ye,{messages:e.questions,botId:e.botId,is_allMessages:!1});case 3:return i.a.createElement(ye,{messages:e.mentions,botId:e.botId,is_allMessages:!1})}}var we=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={active_tab:1,messages:[],questions:[],mentions:[],current_pg_question:0,current_pg_mention:0,current_pg:0,isbusy:!1},n.onScroll=n.append_messages.bind(Object(re.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.get_messages(this.state.current_pg),this.get_questions(this.state.current_pg_question),this.get_mentions(this.state.current_pg_mention),window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"get_mentions",value:function(e){var t=this;A.a.post("getAdminMentions",{chat_id:window.localStorage.getItem("chat_id"),page:e}).then((function(e){if(e.data){var a=t.state.mentions.concat(e.data);t.setState({mentions:a,current_pg_question:t.state.current_pg_mention+1,isbusy:!1})}}))}},{key:"get_questions",value:function(e){var t=this;A.a.post("getQuestions",{chat_id:window.localStorage.getItem("chat_id"),page:e}).then((function(e){if(e.data){var a=t.state.questions.concat(e.data);t.setState({questions:a,current_pg_question:t.state.current_pg_question+1,isbusy:!1})}}))}},{key:"get_messages",value:function(e){var t=this;A.a.post("/getMessages",{page:e,chat_id:window.localStorage.getItem("chat_id")}).then((function(e){if(e.data){var a=t.state.messages.concat(e.data);t.setState({messages:a,current_pg:t.state.current_pg+1,isbusy:!1})}}))}},{key:"set_activeTab",value:function(e){return this.setState({active_tab:e})}},{key:"getCurrentScrollPercentage",value:function(){return(window.scrollY+window.innerHeight)/document.body.clientHeight*100}},{key:"append_messages",value:function(e){this.state.messages.length>=20&&(this.getCurrentScrollPercentage()>90&&!this.state.isbusy&&(this.setState({isbusy:!0}),this.get_messages(this.state.current_pg)))}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_messages"},i.a.createElement(ce,{title:"Messages"}),i.a.createElement(le,{opt1:"Message Log",opt2:"Collected Questions",opt3:"Messages to Admin",active_tab:this.set_activeTab.bind(this)}),i.a.createElement(ke,{tab:this.state.active_tab,messages:this.state.messages,questions:this.state.questions,mentions:this.state.mentions,botId:this.props.botId}))}}]),a}(i.a.Component),Se=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={messages:[]},n}return Object(h.a)(a,[{key:"back",value:function(){window.history.go(-1)}},{key:"extract_query",value:function(e){return window.location.href.split("?")[1].split("=")[1]}},{key:"componentDidMount",value:function(){var e=this;A.a.post("/getMessageByUser",{chat_id:window.localStorage.getItem("chat_id"),member_id:this.extract_query("id"),date:30}).then((function(t){t.data&&(e.setState({messages:t.data}),Y("UserManager","show message log","message log"))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_messages"},i.a.createElement("div",{className:"section_title",onClick:function(){return e.back()}},i.a.createElement("h2",{className:"title"},"Message Logs")),i.a.createElement(ye,{messages:this.state.messages,botId:this.props.botId,is_allMessages:!0}))}}]),a}(i.a.Component);var Ce=function(e){return i.a.createElement("div",{className:"search_box_wrap"},i.a.createElement("div",{method:"post"},i.a.createElement("div",{className:"icon icon_magnify"}),i.a.createElement("input",{type:"text",name:"member_search",onChange:function(t){return e.searchMember(t)},placeholder:"Search for a member"})))},Ne=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={members:[]},n}return Object(h.a)(a,[{key:"searchMember",value:function(e){var t=this,a=e.currentTarget.value;A.a.post("/searchMember",{chat_id:window.localStorage.getItem("chat_id"),query:a}).then((function(e){e.data&&(t.updateMemberList(e.data),Y("UserManager","Search Member","member searching"))}))}},{key:"kickMember",value:function(e,t){var a=this;if(window.confirm("Are you sure to kick this user?")){var n={chat_id:window.localStorage.getItem("chat_id"),user_id:e};t?(n.until_date=Date.now()+1e3,Y("UserManager","adjust member status","ban member")):Y("UserManager","adjust member status","kick member"),A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/kickChatMember"),n).then((function(e){A.a.post("/deleteUser",n).then((function(){a.getMemberList()})),A.a.post("/pushEventBotActivity",{chat_id:n.chat_id,event:"kick"})}))}}},{key:"restrictMember",value:function(e){if(window.confirm("Are you sure to restrict this user?")){var t={chat_id:window.localStorage.getItem("chat_id"),user_id:e,permissions:{can_send_messages:!1,can_send_media_messages:!1,can_send_polls:!1,can_send_other_messages:!1,can_pin_messages:!1,can_change_info:!1},until_date:3e5};A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/restrictChatMember"),t).then((function(e){A.a.post("/pushEventBotActivity",{chat_id:t.chat_id,event:"restrict"}),Y("UserManager","adjust member status","restrict member")})).catch((function(e){e.data.ok&&alert("this feature should be available into Supergroup only.")}))}}},{key:"getMemberList",value:function(){var e=this;A.a.post("/getMemberStatus",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a,n=[],i=Object(c.a)(t.data);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.is_bot||n.push(s)}}catch(r){i.e(r)}finally{i.f()}e.updateMemberList(n)})).catch((function(e){console.log(e)}))}},{key:"updateMemberList",value:function(e){var t=this;this.setState({members:e.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,i.a.createElement("div",{className:"member_name"},e.is_interested?i.a.createElement("div",{className:"interesting_icon"}):null,i.a.createElement(l.b,{to:{pathname:"/user",search:"?user_id="+e.id}},e.first_name," ",e.last_name?e.last_name:""))),i.a.createElement("td",null,"Active"),i.a.createElement("td",null,"@",e.username),i.a.createElement("td",null,e.warning_pt),i.a.createElement("td",null,e.act_txt_cnt+e.act_photo_cnt+e.act_url_cnt),i.a.createElement("td",null,e.updated_at),i.a.createElement("td",null,i.a.createElement(l.b,{to:{pathname:"/logs",search:"?user_id="+e.id}},i.a.createElement("div",{className:"icon message_log_icon"},i.a.createElement("span",{className:"tooltip"},"Message Logs")))),i.a.createElement("td",null,i.a.createElement("div",{className:"icon restrict_icon",onClick:function(){return t.restrictMember(e.id)}},i.a.createElement("span",{className:"tooltip"},"Restrict"))),i.a.createElement("td",null,i.a.createElement("div",{className:"icon ban_icon",onClick:function(){return t.kickMember(e.id,!0)}},i.a.createElement("span",{className:"tooltip"},"Ban"))),i.a.createElement("td",null,i.a.createElement("div",{className:"icon kick_icon",onClick:function(){return t.kickMember(e.id,!1)}},i.a.createElement("span",{className:"tooltip"},"Kick"))))}))})}},{key:"componentDidMount",value:function(){this.getMemberList()}},{key:"render",value:function(){return i.a.createElement("div",{className:"memberlist_wrap"},i.a.createElement("h4",null,"List of Members"),i.a.createElement(Ce,{target:"member",searchMember:this.searchMember.bind(this)}),i.a.createElement("table",{className:"usermanager_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"15%"},"Name"),i.a.createElement("th",{width:"10%"},"Status"),i.a.createElement("th",{width:"13%"},"Username"),i.a.createElement("th",{width:"10%"},"Warn. Points"),i.a.createElement("th",{width:"11%"},"Messages"),i.a.createElement("th",null,"Last Active"),i.a.createElement("th",{width:"5%"}),i.a.createElement("th",{width:"5%"}),i.a.createElement("th",{width:"5%"}),i.a.createElement("th",{width:"5%"}))),i.a.createElement("tbody",null,0===this.state.members.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"10",className:"empty_item"},"No Items")):this.state.members)))}}]),a}(i.a.Component);function Te(e){return i.a.createElement("div",{className:"filter_switch"},i.a.createElement("label",{htmlFor:e.name},i.a.createElement("input",{type:"checkbox",className:"filter_sw",name:e.name,id:e.name,onChange:function(){return e.changePermission()},defaultChecked:e.is_active}),i.a.createElement("div",{className:"custom_chbox"}),i.a.createElement("div",{className:"custom_chbox_circle"})))}var Ae=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={restrictions:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getRestrictions()}},{key:"getRestrictions",value:function(){var e=this;A.a.post("/getRestriction",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.setState({restrictions:t.data[0]})}))}},{key:"restrict_bot",value:function(){var e=document.forms[0].restrict_adding_bot.checked;A.a.post("/setRestriction",{chat_id:window.localStorage.getItem("chat_id"),restrictions:{bot:e?1:0}})}},{key:"restrict_invite_user",value:function(){var e=document.forms[0].restrict_adding_user.checked;A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/setChatPermissions"),{chat_id:window.localStorage.getItem("chat_id"),permissions:{can_invite_users:e}}).then((function(t){t.data.ok&&A.a.post("/setRestriction",{chat_id:window.localStorage.getItem("chat_id"),restrictions:{invite:e?1:0}})}))}},{key:"restrict_capcha",value:function(){}},{key:"restrict_mute",value:function(){var e=document.forms[0].restrict_mute.checked;A.a.post("/setRestriction",{chat_id:window.localStorage.getItem("chat_id"),restrictions:{new_member:e?1:0}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"user_restriction_section"},i.a.createElement("h4",null,"New Members"),i.a.createElement("p",null,"Set restrictions to new members that joined the chat group. Usually, spams are coming from new members who joins the room and then leave right away."),i.a.createElement("form",null,i.a.createElement("div",{className:"restriction_common"},i.a.createElement("div",{className:"restriction_module"},i.a.createElement("p",null,"Restrict non-admins adding bots to the group"),i.a.createElement(Te,{name:"restrict_adding_bot",changePermission:this.restrict_bot.bind(this),is_active:this.state.restrictions.is_block_bot})),i.a.createElement("div",{className:"restriction_module"},i.a.createElement("p",null,"Restrict members to invite new members in to the group"),i.a.createElement(Te,{name:"restrict_adding_user",changePermission:this.restrict_invite_user.bind(this),is_active:this.state.restrictions.is_block_invite})),i.a.createElement("div",{className:"restriction_module"},i.a.createElement("p",null,"Require Captcha for New Members (preparing)"),i.a.createElement(Te,{name:"restrict_capcha",changePermission:this.restrict_capcha,is_active:!1}))),i.a.createElement("div",{className:"restriction_new_member"},i.a.createElement("div",{className:"restriction_module"},i.a.createElement("p",null,"Restrict New Members\u2019 activity after joining the room"),i.a.createElement(Te,{name:"restrict_mute",changePermission:this.restrict_mute,is_active:this.state.restrictions.is_restrict_new_member})))))}}]),a}(i.a.Component);a(329);function Me(e){switch(e.tab){case 1:return i.a.createElement(Ne,{botId:e.botId});case 2:return i.a.createElement(Ae,{botId:e.botId})}}var xe=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={active_tab:1},n}return Object(h.a)(a,[{key:"set_activeTab",value:function(e){return this.setState({active_tab:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_usermanager"},i.a.createElement(ce,{title:"Members"}),i.a.createElement(le,{opt1:"Members List",opt2:"Restrictions",active_tab:this.set_activeTab.bind(this)}),i.a.createElement("div",{className:"content_wrap"},i.a.createElement(Me,{tab:this.state.active_tab,botId:this.props.botId})))}}]),a}(i.a.Component),Oe=a(48),Ie=a.n(Oe);a(332);var je=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),s=a[0],r=a[1];if(!e.message_log){if(!e.chat_id)return i.a.createElement("div",{className:e.message_log_open?"modal message_log_modal open":"modal message_log_modal"},i.a.createElement("h2",{className:"message_modal_title"},"Message Logs"),i.a.createElement("span",{className:"message_modal_close",onClick:function(){return e.closeModal()}},"\xd7"),i.a.createElement("div",{className:"empty_section"},i.a.createElement("p",null,"No messages")));A.a.post("/getMessageByUser",{chat_id:window.localStorage.getItem("chat_id"),member_id:e.user_id,date:30}).then((function(e){r(e.data)}))}return i.a.createElement("div",{className:e.message_log_open?"modal message_log_modal open":"modal message_log_modal"},i.a.createElement("h2",{className:"message_modal_title"},"Message Logs"),i.a.createElement("span",{className:"message_modal_close",onClick:function(){return e.closeModal()}},"\xd7"),i.a.createElement(ye,{messages:e.message_log?e.message_log:s,botId:e.botId,is_allMessages:!0}))},Ue=(a(333),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={user_profile_data:[],message_log:[],profile_pic:"",active_hours:0,top_active:null,message_log_open:!1},n}return Object(h.a)(a,[{key:"backtoManage",value:function(){window.location.href="/#/members"}},{key:"openTelegram",value:function(e){return window.location.href="https://t.me/".concat(e),!1}},{key:"toggleMessageLogModal",value:function(){this.setState({message_log_open:!this.state.message_log_open})}},{key:"interestMember",value:function(e,t){var a=0;a=2===e.currentTarget.classList.length?0:1;var n={user_id:t,chat_id:window.localStorage.getItem("chat_id"),val:a};A.a.post("/setInterest",n).then((function(){window.location.reload()}))}},{key:"kickMember",value:function(e,t){if(window.confirm("Are you sure to kick this user?")){var a={chat_id:window.localStorage.getItem("chat_id"),user_id:e};t&&(a.until_date=Date.now()+1e3),A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/kickChatMember"),a).then((function(e){setTimeout((function(){A.a.post("/deleteUser",a),A.a.post("/pushEventBotActivity",{chat_id:a.chat_id,event:"kick"}),window.location.reload()}),2e3)}))}}},{key:"restrictMember",value:function(e){if(window.confirm("Are you sure to ban this user?")){var t={chat_id:window.localStorage.getItem("chat_id"),user_id:e,permissions:{can_send_messages:!1,can_send_media_messages:!1,can_send_polls:!1,can_send_other_messages:!1,can_pin_messages:!1,can_change_info:!1},until_date:3e5};A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/restrictChatMember"),t).then((function(e){A.a.post("/pushEventBotActivity",{chat_id:t.chat_id,event:"restrict"})})).catch((function(e){if(!e.data.ok)return alert("this feature is available only in [supergroup]"),!1}))}}},{key:"extract_query",value:function(e){return window.location.href.split("?")[1].split("=")[1]}},{key:"cal_active_hours",value:function(e){for(var t=Math.floor((this.state.user_profile_data.act_txt_cnt+this.state.user_profile_data.act_media+this.state.user_profile_data.act_photo_cnt)/this.cal_participate_date(this.state.user_profile_data.created_at)),a=Math.floor(t/5),n=0,i=0,s=0;s<24;s++)e[s]>a&&(e[i]<e[s]&&(i=s),n+=1);i&&this.setState({active_hours:n,top_active:i})}},{key:"cal_participate_date",value:function(e){var t=new Date(e),a=new Date(Date.now())-t;return Math.floor(a/864e5)>30?30:Math.floor(a/864e5)}},{key:"cal_participate_week",value:function(e){var t=new Date(e),a=new Date(Date.now())-t;return Math.floor(a/6048e5)>30?30:Math.floor(a/6048e5)}},{key:"makeChartMessage",value:function(e){for(var t=new Date(Date.now()),a=[],n=[],i=11;i>=0;i--){var s=new Date(t-864e5*i).toString("MMMM dd").slice(4,10),r=!1;if(a.push(s),e){var o,l=Object(c.a)(e);try{for(l.s();!(o=l.n()).done;){var m=o.value;s==m.ym&&(n.push(m.cnt),r=!0)}}catch(d){l.e(d)}finally{l.f()}}r||n.push(0)}var u=document.getElementById("total_message_crt");new Ie.a(u,{type:"line",data:{labels:a,datasets:[{data:n,borderColor:"#324DF9",borderWidth:2,lineTension:0,fill:!1}]},options:{legend:{display:!1},responsive:!1,scales:{xAxes:[{ticks:{fontSize:10,fontFamily:"muli-ragular"},gridLines:{display:!1}}],yAxes:[{ticks:{stepSize:5,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}]}}})}},{key:"makeChartActiveHour",value:function(e){for(var t=[],a=[],n=0;n<24;n++){t.push(n);var i=!1;if(e){var s,r=Object(c.a)(e);try{for(r.s();!(s=r.n()).done;){var o=s.value;n==o.hour&&(a.push(o.cnt),i=!0)}}catch(m){r.e(m)}finally{r.f()}}i||a.push(0)}this.cal_active_hours(a);var l=document.getElementById("active_hour_crt");new Ie.a(l,{type:"bar",data:{labels:t,datasets:[{data:a,backgroundColor:"#3CB650"}]},options:{legend:{display:!1},responsive:!1,scales:{xAxes:[{ticks:{fontSize:10,fontFamily:"muli-ragular"},gridLines:{display:!1}}],yAxes:[{ticks:{stepSize:5,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}],gridLines:{lineWidth:0}}}})}},{key:"makeChartType",value:function(){var e=document.getElementById("message_type");new Ie.a(e,{type:"pie",data:{labels:["Text Messages","Questions","Media (Stickers, Gif, etc)","Pictures"],datasets:[{data:[this.state.user_profile_data.act_txt_cnt,this.state.user_profile_data.act_questions,this.state.user_profile_data.act_media,this.state.user_profile_data.act_photo_cnt],backgroundColor:["#255CF9","#3CB550","#2199EE","#644AC4"]}]},options:{legend:{position:"right"},layout:{padding:{top:20,bottom:20,left:20,right:20}}}}).resize()}},{key:"componentDidMount",value:function(){var e=this;A.a.post("/getMember",{member_id:this.extract_query(),chat_id:window.localStorage.getItem("chat_id")}).then((function(t){e.setState({user_profile_data:t.data[0]}),A.a.post("https://api.telegram.org/bot".concat(e.props.botId,"/getUserProfilePhotos"),{user_id:e.extract_query()}).then((function(t){0!==t.data.result.total_count&&A.a.post("https://api.telegram.org/bot".concat(e.props.botId,"/getFile?file_id=")+t.data.result.photos[0][0].file_id).then((function(t){e.setState({profile_pic:t.data.result}),e.makeChartType()}))}))})),A.a.post("/getMessageByUser",{member_id:this.extract_query(),chat_id:window.localStorage.getItem("chat_id"),date:30}).then((function(t){e.setState({message_log:t.data})})),A.a.post("/getMessageCntPerDay",{member_id:this.extract_query(),chat_id:window.localStorage.getItem("chat_id")}).then((function(t){e.makeChartMessage(t.data)})),A.a.post("/getMessageCntPerHour",{member_id:this.extract_query(),chat_id:window.localStorage.getItem("chat_id")}).then((function(t){e.makeChartActiveHour(t.data)})),Y("UserManager","enter user detail","detail page")}},{key:"render",value:function(){var e=this,t=this.state.user_profile_data.act_txt_cnt+this.state.user_profile_data.act_photo_cnt+this.state.user_profile_data.act_url_cnt;return i.a.createElement("div",{className:"user_wrap"},i.a.createElement("div",{className:"section_title",onClick:function(){return e.backtoManage()}},i.a.createElement("h2",{className:"title"},"User Profile")),i.a.createElement("div",{className:"profile_state"},i.a.createElement("div",{className:"user_profile"},i.a.createElement("div",{className:this.state.user_profile_data.is_interested?"interest_icon interested":"interest_icon",onClick:function(t){return e.interestMember(t,e.state.user_profile_data.user_id)}}),i.a.createElement("div",{className:"profile_pic"},i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/")+this.state.profile_pic.file_path,alt:"user profile picture"})),i.a.createElement("div",{className:"profile_contents"},i.a.createElement("p",null,this.state.user_profile_data.first_name," ",this.state.user_profile_data.last_name),i.a.createElement("p",null,"@",this.state.user_profile_data.username),i.a.createElement("p",null,"Active"),i.a.createElement("p",null,"Last Active : ",this.state.user_profile_data.updated_at),i.a.createElement("p",null,"Messages: ",t),i.a.createElement("p",null,"Warning Points: ",this.state.user_profile_data.warning_pt)),i.a.createElement("div",{className:"profile_manipulation"},i.a.createElement("div",{className:"manipulation_item",onClick:function(){return e.openTelegram(e.state.user_profile_data.username)}},i.a.createElement("div",{className:"icon open_telegram_icon"},i.a.createElement("span",{className:"tooltip"},"Open in Telegram"))),i.a.createElement("div",{className:"manipulation_item"},i.a.createElement(l.b,{to:{pathname:"/logs",search:"?user_id="+this.state.user_profile_data.user_id}},i.a.createElement("div",{className:"icon message_log_icon"},i.a.createElement("span",{className:"tooltip"},"Message Logs")))),i.a.createElement("div",{className:"manipulation_item",onClick:function(){return e.restrictMember(e.state.user_profile_data.user_id)}},i.a.createElement("div",{className:"icon restrict_icon"},i.a.createElement("span",{className:"tooltip"},"Restrict"))),i.a.createElement("div",{className:"manipulation_item",onClick:function(){return e.kickMember(e.state.user_profile_data.user_id,!0)}},i.a.createElement("div",{className:"icon ban_icon"},i.a.createElement("span",{className:"tooltip"},"Ban"))),i.a.createElement("div",{className:"manipulation_item",onClick:function(){return e.kickMember(e.state.user_profile_data.user_id,!1)}},i.a.createElement("div",{className:"icon kick_icon"},i.a.createElement("span",{className:"tooltip"},"Kick"))))),i.a.createElement("div",{className:"chart_message_type"},i.a.createElement("p",null,"Type of Messages"),i.a.createElement("canvas",{id:"message_type",width:"200",height:"200"})),i.a.createElement("div",{className:"active_sum"},i.a.createElement("p",null,"Summary"),i.a.createElement("div",{className:"sum_el"},i.a.createElement("p",null,"Average messages per day"),i.a.createElement("p",null,Math.floor(t/this.cal_participate_date(this.state.user_profile_data.created_at))," messages")),i.a.createElement("div",{className:"sum_el"},i.a.createElement("p",null,"Average messages per week"),i.a.createElement("p",null,Math.floor(t/this.cal_participate_week(this.state.user_profile_data.created_at))," messages")),i.a.createElement("div",{className:"sum_el"},i.a.createElement("p",null,"Active hours per day"),i.a.createElement("p",null,this.state.active_hours," hours")),i.a.createElement("div",{className:"sum_el"},i.a.createElement("p",null,"Top Active hours"),null===this.state.top_active?i.a.createElement("p",null,"No data"):i.a.createElement("p",null,"Between ",this.state.top_active>10?this.state.top_active+" : 00":"0"+this.state.top_active+" : 00","~",this.state.top_active+1>10?this.state.top_active+1+" : 00":"0"+(this.state.top_active+1)+" : 00")),i.a.createElement("div",{className:"sum_el"},i.a.createElement("p",null,"Total Messages"),i.a.createElement("p",null,t)))),i.a.createElement("div",{className:"chart_message"},i.a.createElement("p",null,"Messages"),i.a.createElement("canvas",{id:"total_message_crt",width:"1186",height:"200"})),i.a.createElement("div",{className:"chart_activehour"},i.a.createElement("p",null,"Active Hours"),i.a.createElement("canvas",{id:"active_hour_crt",width:"1186",height:"200"})),i.a.createElement(je,{message_log_open:this.state.message_log_open,botId:this.props.botId,message_log:this.state.message_log,closeModal:this.toggleMessageLogModal.bind(this)}))}}]),a}(i.a.Component)),De=a(40),Be=(a(195),a(100)),Le=a.n(Be);var qe=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),m=l[0],u=l[1];function d(){if(s){var e=s.getFullYear(),t=s.getMonth()+1,a=s.getDate();return"".concat(e,"-").concat(t,"-").concat(a)}var n=new Date(Date.now()),i=n.getFullYear(),r=n.getMonth()+1,c=n.getDate();return"".concat(i,"-").concat(r,"-").concat(c)}return i.a.createElement("div",{className:"selectbox_date"},i.a.createElement("input",{type:"hidden",name:"selectedDate",value:d()}),i.a.createElement("a",{className:"selected_date",onClick:function(){return u(!m)}},d()),i.a.createElement("div",{className:m?"datepicker_pop open":"datepicker_pop"},i.a.createElement(Le.a,{onDayClick:function(e){return function(e){r(e),u(!1)}(e)}})))};var Pe=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),m=l[0],u=l[1],d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return i.a.createElement("div",{className:"day_item"},i.a.createElement("label",{className:"day_name"},e),i.a.createElement("input",{type:"checkbox",className:"day_check",multiple:!0,onChange:function(){return function(e){if(e)if(-1!==s.findIndex((function(t){return t===e}))){var t=s.findIndex((function(t){return t===e}));if(0===t||t===s.length-1)0===t?(s.shift(),r(s)):t===s.length-1&&(s.pop(),r(s));else{var a=s.slice(0,t),n=s.slice(t+1),i=a.concat(n);r(i)}}else r([].concat(Object(De.a)(s),[e]))}(e.substr(0,3))}}))}));return i.a.createElement("div",{className:"selectbox_day"},i.a.createElement("input",{type:"hidden",name:"selectedDay",value:JSON.stringify(s)}),i.a.createElement("a",{className:"selected_date",onClick:function(){return u(!m)}},s.toString()),i.a.createElement("div",{className:m?"daypicker_pop open":"daypicker_pop"},d))};var We=function(e){for(var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(new Date(Date.now()).getHours()),l=Object(o.a)(c,2),m=l[0],u=l[1],d=[],p=0;p<24;p++)d.push(p);var h=d.map((function(e,t){return i.a.createElement("div",{className:"hour_items",key:t,onClick:function(){return u(e),void r(!1)}},i.a.createElement("p",null,e))}));return i.a.createElement("div",{className:"selectbox_hour"},i.a.createElement("input",{type:"hidden",name:"selectedHour",value:m}),i.a.createElement("a",{className:"selected_hour",onClick:function(){return r(!s),document.querySelector(".dim").style.display="block",void document.querySelector(".dim").addEventListener("click",(function e(){r(!1),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",e)}))}},m," hr"),i.a.createElement("div",{className:s?"hourpicker_pop open":"hourpicker_pop"},h))};var ze=function(e){for(var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(new Date(Date.now()).getMinutes()),l=Object(o.a)(c,2),m=l[0],u=l[1],d=[],p=0;p<60;p++)d.push(p);var h=d.map((function(e,t){return i.a.createElement("div",{className:"min_items",onClick:function(){return u(e),void r(!1)},key:t},i.a.createElement("p",null,e))}));return i.a.createElement("div",{className:"selectbox_min"},i.a.createElement("input",{type:"hidden",name:"selectedMin",value:m}),i.a.createElement("a",{className:"selected_min",onClick:function(){return r(!s),document.querySelector(".dim").style.display="block",void document.querySelector(".dim").addEventListener("click",(function e(){r(!1),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",e)}))}},m," min"),i.a.createElement("div",{className:s?"minpicker_pop open":"minpicker_pop"},h))};function Fe(e){var t=e.type;return 0===t?i.a.createElement("div",{className:"set_of_timeset"},i.a.createElement(qe,null),i.a.createElement(We,null),i.a.createElement(ze,null)):1===t?i.a.createElement("div",{className:"set_of_timeset"},i.a.createElement(We,null),i.a.createElement(ze,null)):2===t?i.a.createElement("div",{className:"set_of_timeset"},i.a.createElement(Pe,null),i.a.createElement(We,null),i.a.createElement(ze,null)):3===t?i.a.createElement("div",{className:"set_of_timeset"},i.a.createElement(We,null),i.a.createElement(ze,null)):void 0}var Re=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={current_item:0,opened_selectbox:!1,message_type:1,uploadImage:"",isOpen_btn_modal:!1,message_btns:[],messages:[],origin_messages:[],onEditing:0,editId:0},n}return Object(h.a)(a,[{key:"toggleSelectbox",value:function(){this.setState({opened_selectbox:!this.state.opened_selectbox}),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",function e(){this.setState({opened_selectbox:!1}),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",e.bind(this))}.bind(this))}},{key:"toggleAddBtnModal",value:function(){this.setState({isOpen_btn_modal:!this.state.isOpen_btn_modal})}},{key:"toggleManipulationBtns",value:function(e){return e.currentTarget.nextSibling.classList.toggle("active"),!1}},{key:"setInlineBtns",value:function(){var e={text:document.forms[1].inline_text.value,url:document.forms[1].inline_url.value};this.setState({message_btns:[].concat(Object(De.a)(this.state.message_btns),[e]),isOpen_btn_modal:!1}),document.forms[1].inline_text.value="",document.forms[1].inline_url.value=""}},{key:"deleteInlineBtn",value:function(e){var t=this.state.message_btns;if(0===e)t.shift(),this.setState({message_btns:t});else if(e===t.length-1)t.pop(),this.setState({message_btns:t});else{var a=t.slice(0,e),n=t.slice(e+1);this.setState({message_btns:a.concat(n)})}}},{key:"editInlineBtn",value:function(e){this.deleteInlineBtn(e),this.setState({isOpen_btn_modal:!0})}},{key:"getInlineBtns",value:function(){var e=this,t=this.state.message_btns;if(t)return t.map((function(t,a){return i.a.createElement("div",{className:"inline_btn",key:a},i.a.createElement("p",null,t.text),i.a.createElement("p",{className:"whole_url"},t.url),i.a.createElement("div",{className:"icon elipse_icon",onClick:function(t){return e.toggleManipulationBtns(t)}}),i.a.createElement("div",{className:"inline_btn_manipulate"},i.a.createElement("i",{className:"icon edit_icon",onClick:function(){return e.editInlineBtn(a)}}),i.a.createElement("i",{className:"icon delete_icon",onClick:function(){return e.deleteInlineBtn(a)}})))}))}},{key:"change_item",value:function(e){"number"===typeof e&&this.setState({current_item:e,opened_selectbox:!1})}},{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>5242880)return alert("File size should be less than 5MB"),!1;this.makePreview(t),this.setState({uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var a=document.querySelector(".img_preview");a.firstChild;)a.removeChild(a.firstChild);document.querySelector(".img_preview").appendChild(t)},t.readAsDataURL(e)}},{key:"sendTestMsg",value:function(){}},{key:"changeActiveAnnounce",value:function(e){var t=this.state.origin_messages[e],a=JSON.parse(t.buttons);a&&this.setState({current_item:parseInt(t.schedule_type),message_btns:[].concat(Object(De.a)(this.state.message_btns),Object(De.a)(a))}),document.forms[0].announce_txt.value=t.content}},{key:"deleteAnnounce",value:function(e){var t=this;A.a.post("/delAnnounce",{chat_id:window.localStorage.getItem("chat_id"),ann_id:this.state.origin_messages[e].schedule_id}).then((function(e){e.data&&(t.getAnnouncement(),Y("Interactions","delete interaction","Announcement"))}))}},{key:"registerAnnounceMsg",value:function(){var e,t,a,n=this,i=document.forms[0].announceType.value,s=document.forms[0].selectedHour.value,r=document.forms[0].selectedMin.value;document.forms[0].selectedDate&&(t=(e=document.forms[0].selectedDate.value.split("-"))[1],a=e[2]);var c="";document.forms[0].selected_weekofday&&(c=JSON.parse(document.forms[0].selectedDay.value));var o="";this.state.message_type&&(o=document.forms[0].announce_txt.value),A.a.post("/setAnnounce",{chat_id:window.localStorage.getItem("chat_id"),type:i,month:t,monthofday:a,hour:s,min:r,weekofday:c,content:o,content_type:this.state.message_type,content_img:this.state.uploadImage,buttons:JSON.stringify(this.state.message_btns),onEditing:this.state.onEditing,id:this.state.editId}).then((function(){n.getAnnouncement(),document.forms[0].announce_txt.value="",Y("Interactions","set interaction","Announcement")}))}},{key:"getAnnouncement",value:function(){var e=this;A.a.post("/getAnnounce",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data?e.setState({messages:t.data.map((function(t,a){return i.a.createElement("div",{className:"message_list",key:a,onClick:function(){return e.changeActiveAnnounce(a)}},i.a.createElement("p",{className:"savedMsg_content"},t.content),i.a.createElement("p",{className:"savedMsg_type"},"0"===t.schedule_type?"once":"1"===t.schedule_type?"daily":"2"===t.schedule_type?"weekly":"3"===t.schedule_type?"montly":null),e.verifyExpire(t),i.a.createElement("div",{className:"savedMsg_manipulation_btns_wrap"},i.a.createElement("a",{className:"savedMsg_del_btn",onClick:function(){return e.deleteAnnounce(a)}},"Delete")))})),origin_messages:t.data}):e.setState({messages:[],origin_messages:[]})}))}},{key:"verifyExpire",value:function(e){var t=new Date(Date.now()),a=new Date;return a.setMonth(e.schedule_month),a.setDate(e.schedule_dayofmonth),a.setHours(e.schedule_hour),a.setMinutes(e.schedule_min),t>a?i.a.createElement("span",{className:"expired_msg"},"expried"):null}},{key:"componentDidMount",value:function(){this.getAnnouncement()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h2",{className:"seg_title"},"Create an announcement"),i.a.createElement("form",{className:"announcement_seg",method:"post"},i.a.createElement("div",{className:"announce_type announcement_row"},i.a.createElement("p",{className:"announce_label"},"Repeat:"),i.a.createElement("div",{className:"selectbox_wrap"},i.a.createElement("input",{type:"hidden",name:"announceType",value:this.state.current_item}),i.a.createElement("a",{className:"announce_selectbox",onClick:function(){return e.toggleSelectbox()}},0===this.state.current_item?"once":1===this.state.current_item?"everyday":2===this.state.current_item?"everyweek":3===this.state.current_item?"everymonth":""),i.a.createElement("div",{className:this.state.opened_selectbox?"selectbox open":"selectbox"},i.a.createElement("p",{onClick:function(){return e.change_item(0)}},"once"),i.a.createElement("p",{onClick:function(){return e.change_item(1)}},"everyday"),i.a.createElement("p",{onClick:function(){return e.change_item(2)}},"everyweek"),i.a.createElement("p",{onClick:function(){return e.change_item(3)}},"everymonth")))),i.a.createElement("div",{className:"announce_type announcement_row"},i.a.createElement("p",{className:"announce_label"},"Date & Time:"),i.a.createElement("div",{className:"selectbox_wrap"},i.a.createElement(Fe,{type:this.state.current_item}))),i.a.createElement("div",{className:"announce_type announcement_row"},i.a.createElement("p",{className:"announce_label"},"Message:"),i.a.createElement("div",{className:"editable_message"},this.state.message_type?i.a.createElement("textarea",{name:"announce_txt"}):i.a.createElement("div",{className:"img_preview"}),i.a.createElement("div",{className:"changeable_types"},i.a.createElement("i",{className:this.state.message_type?"icon text_icon active":"icon text_icon",onClick:function(){return e.setState({message_type:1})}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"announce_img",onChange:function(t){return e.uploadedImage(t)}}),i.a.createElement("i",{className:this.state.message_type?"icon picture_icon":"icon picture_icon active",onClick:function(){return e.setState({message_type:0})}}))))),i.a.createElement("div",{className:"announce_type announcement_row"},i.a.createElement("p",null),i.a.createElement("p",{className:"announce_desc_add"})),i.a.createElement("div",{className:"announce_type announcement_row"},i.a.createElement("p",{className:"announce_label"},"Buttons:"),this.state.message_btns&&0===this.state.message_btns.length?i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}):i.a.createElement("div",{className:"inline_btns_wrap"},this.getInlineBtns(),i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}))),i.a.createElement("div",{className:"announce_btn_wrap announcement_row"},i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement("a",{className:"send_btn",onClick:function(){return e.registerAnnounceMsg()}},"Send")))),0!==this.state.messages.length?i.a.createElement("div",{className:"history_messages"},i.a.createElement("h2",null,"Saved Announcements"),i.a.createElement("div",{className:"savedMsg_container"},this.state.messages)):null,i.a.createElement("div",{className:this.state.isOpen_btn_modal?"modal add_inlineBtn_modal open":"modal add_inlineBtn_modal"},i.a.createElement("h2",null,"Create a Button"),i.a.createElement("form",null,i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"Title:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_text",autoComplete:"off"}))),i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"URL:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_url",autoComplete:"off"}))),i.a.createElement("a",{className:"add_confirm_btn",onClick:function(){return e.setInlineBtns()}},"ADD"),i.a.createElement("a",{className:"cancel_btn",onClick:function(){return e.setState({isOpen_btn_modal:!1})}},"CANCEL"))))}}]),a}(i.a.Component),He=(a(334),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={message_type:1,uploadImage:"",imageType:"",messages:[],origin_msg:[],message_btns:[],isOpen:!1,crr_message:[],onEditing:0,editId:0},n}return Object(h.a)(a,[{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>5242880)return alert("File size should be less than 5MB"),!1;this.makePreview(t),this.setState({imageType:t.type.split("/")[1],uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var a=document.querySelector(".img_preview");a.firstChild;)a.removeChild(a.firstChild);document.querySelector(".img_preview").appendChild(t)},t.readAsDataURL(e)}},{key:"removeImagePreview",value:function(){for(var e=document.querySelector(".img_preview");e.firstChild;)e.removeChild(e.firstChild)}},{key:"clearTexts",value:function(){return this.state.message_type?document.querySelector("textarea[name=welcome_txt]").value="":this.removeImagePreview(),!0}},{key:"submit_startmenu",value:function(e){var t=this,a=new FormData;a.append("chat_id",window.localStorage.getItem("chat_id")),a.append("content_text",document.forms[0].welcome_txt.value),a.append("content_img",this.state.uploadImage),a.append("content_type",this.state.message_type?"txt":"img"),a.append("img_type",this.state.imageType),a.append("inline_btns",JSON.stringify(this.state.message_btns)),this.state.onEditing&&a.append("id",this.state.editId),a.get("chat_id")&&A.a.post("pushStartMenu",a).then((function(e){e.data&&(t.getStartMenu(),t.clearTexts(),Y("Interactions","set interaction","Welcome message"))}))}},{key:"convertToBase64",value:function(e,t,a){if(null!==e){var n=new Blob([e],{type:"image/"+t}),i=new FileReader;i.onload=function(e){document.querySelector("#"+a).src=e.target.result},i.readAsDataURL(n)}}},{key:"getStartMenu",value:function(){var e=this;A.a.post("/getStartMenu",{chat_id:window.localStorage.getItem("chat_id")}),A.a.post("/getStartMenuAll",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.setState({messages:t.data.map((function(t,a){return i.a.createElement("div",{className:"message_list",key:a},i.a.createElement("p",{className:"savedMsg_content"},"txt"===t.response_type?t.content_txt:t.content_img),i.a.createElement("div",{className:"savedMsg_manipulation_btns_wrap"},i.a.createElement("a",{className:"savedMsg_edit_btn",onClick:function(){return e.editSelectedWelcome(a)}},"Edit"),i.a.createElement("a",{className:"savedMsg_del_btn",onClick:function(){return e.deleteSelectdWelcome(a)}},"Delete")))})),origin_msg:t.data})}))}},{key:"editSelectedWelcome",value:function(e){var t=this.state.origin_msg[e];document.forms[0].welcome_txt.value=t.content_txt,this.setState({onEditing:1,editId:this.state.origin_msg[e].id,message_btns:JSON.parse(t.buttons)})}},{key:"deleteSelectdWelcome",value:function(e){var t=this;A.a.post("/delStartMenu",{chat_id:window.localStorage.getItem("chat_id"),id:this.state.origin_msg[e].id}).then((function(e){e.data&&(t.getStartMenu(),Y("Interactions","delete interaction","Welcome message"))}))}},{key:"toggleAddBtnModal",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleManipulationBtns",value:function(e){return e.currentTarget.nextSibling.classList.toggle("active"),!1}},{key:"setInlineBtns",value:function(){var e={text:document.forms[1].inline_text.value,url:document.forms[1].inline_url.value};this.setState({message_btns:[].concat(Object(De.a)(this.state.message_btns),[e]),isOpen:!1}),document.forms[1].inline_text.value="",document.forms[1].inline_url.value=""}},{key:"deleteInlineBtn",value:function(e){var t=this.state.message_btns;if(0===e)t.shift(),this.setState({message_btns:t});else if(e===t.length-1)t.pop(),this.setState({message_btns:t});else{var a=t.slice(0,e),n=t.slice(e+1);this.setState({message_btns:a.concat(n)})}}},{key:"editInlineBtn",value:function(e){this.deleteInlineBtn(e),this.setState({isOpen:!0})}},{key:"getInlineBtns",value:function(){var e=this,t=this.state.message_btns;if(t)return t.map((function(t,a){return i.a.createElement("div",{className:"inline_btn",key:a},i.a.createElement("p",null,t.text),i.a.createElement("p",{className:"whole_url"},t.url),i.a.createElement("div",{className:"icon elipse_icon",onClick:function(t){return e.toggleManipulationBtns(t)}}),i.a.createElement("div",{className:"inline_btn_manipulate"},i.a.createElement("i",{className:"icon edit_icon",onClick:function(){return e.editInlineBtn(a)}}),i.a.createElement("i",{className:"icon delete_icon",onClick:function(){return e.deleteInlineBtn(a)}})))}))}},{key:"componentDidMount",value:function(){this.getStartMenu()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"startmenu_section"},i.a.createElement("h2",{className:"seg_title"},"Welcome Message for New Members"),i.a.createElement("form",{method:"post",className:"startmenu_tb"},i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",{className:"tb_label"},"Message:"),i.a.createElement("div",{className:"editable_message"},this.state.message_type?i.a.createElement("textarea",{name:"welcome_txt",value:this.state.crr_message?this.state.crr_message.content_txt:""}):i.a.createElement("div",{className:"img_preview"},this.state.crr_message?i.a.createElement("img",{src:this.state.crr_message.content_img,alt:"img preview"}):""),i.a.createElement("div",{className:"changeable_types"},i.a.createElement("i",{className:this.state.message_type?"icon text_icon active":"icon text_icon",onClick:function(){return e.setState({message_type:1})}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"announce_img",onChange:function(t){return e.uploadedImage(t)}}),i.a.createElement("i",{className:this.state.message_type?"icon picture_icon":"icon picture_icon active",onClick:function(){return e.setState({message_type:0})}}))))),i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",null),i.a.createElement("p",{className:"welcome_desc_add"})),i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",{className:"tb_label"},"Buttons:"),this.state.message_btns&&0===this.state.message_btns.length?i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}):i.a.createElement("div",{className:"inline_btns_wrap"},this.getInlineBtns(),i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}))),i.a.createElement("div",{className:"tb_row startmenu_btn_wrap"},i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement("a",{className:"send_btn",onClick:function(t){return e.submit_startmenu(t)}},"Save")))),0!==this.state.messages.length?i.a.createElement("div",{className:"history_messages"},i.a.createElement("h2",null,"Saved Welcome Messages"),i.a.createElement("p",null,"If you have saved more than one, welcome messages will be selected randomly."),i.a.createElement("div",{className:"savedMsg_container"},this.state.messages)):null,i.a.createElement("div",{className:this.state.isOpen?"modal add_inlineBtn_modal open":"modal add_inlineBtn_modal"},i.a.createElement("h2",null,"Create a Button"),i.a.createElement("form",null,i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"Title:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_text",autoComplete:"off"}))),i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"URL:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_url",autoComplete:"off"}))),i.a.createElement("a",{className:"add_confirm_btn",onClick:function(){return e.setInlineBtns()}},"ADD"),i.a.createElement("a",{className:"cancel_btn",onClick:function(){return e.setState({isOpen:!1})}},"CANCEL"))))}}]),a}(i.a.Component)),Ze=(a(335),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={current_item:0,opened_selectbox:!1,message_type:1,uploadImage:"",isOpen_btn_modal:!1,message_btns:[],messages:[],origin_messages:[],keyword_type:0,onEditing:0,editId:0},n}return Object(h.a)(a,[{key:"toggleSelectbox",value:function(){this.setState({opened_selectbox:!this.state.opened_selectbox})}},{key:"toggleAddBtnModal",value:function(){this.setState({isOpen_btn_modal:!this.state.isOpen_btn_modal})}},{key:"toggleManipulationBtns",value:function(e){return e.currentTarget.nextSibling.classList.toggle("active"),!1}},{key:"setInlineBtns",value:function(){var e={text:document.forms[1].inline_text.value,url:document.forms[1].inline_url.value};this.setState({message_btns:[].concat(Object(De.a)(this.state.message_btns),[e]),isOpen_btn_modal:!1}),document.forms[1].inline_text.value="",document.forms[1].inline_url.value=""}},{key:"deleteInlineBtn",value:function(e){var t=this.state.message_btns;if(0===e)t.shift(),this.setState({message_btns:t});else if(e===t.length-1)t.pop(),this.setState({message_btns:t});else{var a=t.slice(0,e),n=t.slice(e+1);this.setState({message_btns:a.concat(n)})}}},{key:"editInlineBtn",value:function(e){this.deleteInlineBtn(e),this.setState({isOpen_btn_modal:!0})}},{key:"getInlineBtns",value:function(){var e=this,t=this.state.message_btns;if(t)return t.map((function(t,a){return i.a.createElement("div",{className:"inline_btn",key:a},i.a.createElement("p",null,t.text),i.a.createElement("p",{className:"whole_url"},t.url),i.a.createElement("div",{className:"icon elipse_icon",onClick:function(t){return e.toggleManipulationBtns(t)}}),i.a.createElement("div",{className:"inline_btn_manipulate"},i.a.createElement("i",{className:"icon edit_icon",onClick:function(){return e.editInlineBtn(a)}}),i.a.createElement("i",{className:"icon delete_icon",onClick:function(){return e.deleteInlineBtn(a)}})))}))}},{key:"change_item",value:function(e){"number"===typeof e&&this.setState({current_item:e,opened_selectbox:!1})}},{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>5242880)return alert("File size should be less than 5MB"),!1;this.makePreview(t),this.setState({uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var a=document.querySelector(".img_preview");a.firstChild;)a.removeChild(a.firstChild);document.querySelector(".img_preview").appendChild(t)},t.readAsDataURL(e)}},{key:"sendTestMsg",value:function(){}},{key:"changeActiveFAQ",value:function(e){var t=this.state.origin_messages[e],a=JSON.parse(t.buttons);a&&this.setState({current_item:parseInt(t.schedule_type),message_btns:[].concat(Object(De.a)(this.state.message_btns),Object(De.a)(a))}),document.forms[0].faq_txt.value=t.faq_response,document.forms[0].keywords.value=t.faq_content}},{key:"editSelectedFAQ",value:function(e){return this.changeActiveFAQ(e),this.setState({onEditing:1,editId:this.state.origin_messages[e].id}),!1}},{key:"deleteSelectedFAQ",value:function(e){var t=this;A.a.post("/delFaqlist",{id:this.state.origin_messages[e].id,chat_id:window.localStorage.getItem("chat_id")}).then((function(e){e.data&&(t.getFaqList(),Y("Interactions","delete interaction","Auto responce"))}))}},{key:"registerFAQMsg",value:function(){var e=this,t="";this.state.message_type&&(t=document.forms[0].faq_txt.value);var a=new FormData;a.append("chat_id",window.localStorage.getItem("chat_id")),a.append("keyword",document.forms[0].keywords.value),a.append("response",t),a.append("response_img",this.state.uploadImage),a.append("response_type",this.state.message_type?"txt":"img"),a.append("img_type",this.state.imageType),a.append("keyword_type",this.state.keyword_type),a.append("inline_btns",JSON.stringify(this.state.message_btns)),a.append("onEditing",this.state.onEditing),this.state.onEditing&&a.append("id",this.state.editId),a.get("chat_id")&&A.a.post("pushFaqlist",a).then((function(t){t.data&&(e.getFaqList(),Y("Interactions","set interaction","Auto responce"))}))}},{key:"getFaqList",value:function(){var e=this,t=window.localStorage.getItem("chat_id");0!==t.length&&A.a.post("getFaqlist",{chat_id:t}).then((function(t){t.data&&e.setState({messages:t.data.map((function(t,a){return i.a.createElement("div",{className:"message_list",key:a,onClick:function(){return e.changeActiveFAQ(a)}},i.a.createElement("p",null,"Keywords"),i.a.createElement("p",{className:"savedMsg_keywords"},t.faq_content),i.a.createElement("p",{className:"savedMsg_content"},t.faq_response),i.a.createElement("div",{className:"savedMsg_manipulation_btns_wrap"},i.a.createElement("a",{className:"savedMsg_edit_btn",onClick:function(){return e.editSelectedFAQ(a)}},"Edit"),i.a.createElement("a",{className:"savedMsg_del_btn",onClick:function(){return e.deleteSelectedFAQ(a)}},"Delete")))})),origin_messages:t.data})}))}},{key:"componentDidMount",value:function(){this.getFaqList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h2",{className:"seg_title"},"Create Auto-Response"),i.a.createElement("form",{className:"autores_tb",method:"post"},i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",{className:"tb_label"},"Keywords:"),i.a.createElement("div",{className:"tb_keyword"},i.a.createElement("input",{type:"text",name:"keywords",placeholder:"Keyword 1, Keyword 2, Keyword 3"}),i.a.createElement("p",{className:"autores_desc_add"},"Separate keywords with comma(,). Keywords are not case sensitive."))),i.a.createElement("div",{className:"tb_row"},i.a.createElement("div",{className:"tb_cell"}),i.a.createElement("div",{className:"tb_cell"},i.a.createElement("input",{type:"radio",className:"keyword_type",name:"keyword_type",value:"0",onChange:function(){return e.setState({keyword_type:0})},defaultChecked:!0}),i.a.createElement("label",null,"Must contain one of these words"),i.a.createElement("input",{type:"radio",className:"keyword_type",name:"keyword_type",value:"1",onChange:function(){return e.setState({keyword_type:1})}}),i.a.createElement("label",null,"Must contain two or more of the keywords"))),i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",{className:"tb_label"},"Message:"),i.a.createElement("div",{className:"editable_message"},this.state.message_type?i.a.createElement("textarea",{name:"faq_txt"}):i.a.createElement("div",{className:"img_preview"}),i.a.createElement("div",{className:"changeable_types"},i.a.createElement("i",{className:this.state.message_type?"icon text_icon active":"icon text_icon",onClick:function(){return e.setState({message_type:1})}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"announce_img",onChange:function(t){return e.uploadedImage(t)}}),i.a.createElement("i",{className:this.state.message_type?"icon picture_icon":"icon picture_icon active",onClick:function(){return e.setState({message_type:0})}}))))),i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",null),i.a.createElement("p",{className:"autores_desc_add"})),i.a.createElement("div",{className:"tb_row"},i.a.createElement("p",{className:"tb_label"},"Buttons:"),this.state.message_btns&&0===this.state.message_btns.length?i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}):i.a.createElement("div",{className:"inline_btns_wrap"},this.getInlineBtns(),i.a.createElement("div",{className:"icon add_btn",onClick:function(){return e.toggleAddBtnModal()}}))),i.a.createElement("div",{className:"autores_btn_wrap tb_row"},i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement("a",{className:"send_btn",onClick:function(){return e.registerFAQMsg()}},"Save")))),0!==this.state.messages.length?i.a.createElement("div",{className:"history_messages"},i.a.createElement("h2",null,"Responses"),i.a.createElement("div",{className:"savedMsg_container"},this.state.messages)):null,i.a.createElement("div",{className:this.state.isOpen_btn_modal?"modal add_inlineBtn_modal open":"modal add_inlineBtn_modal"},i.a.createElement("h2",null,"Create a Button"),i.a.createElement("form",null,i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"Title:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_text",autoComplete:"off"}))),i.a.createElement("div",{className:"inline_content_wrap"},i.a.createElement("span",null,"URL:"),i.a.createElement("div",{className:"inline_content"},i.a.createElement("input",{type:"text",name:"inline_url",autoComplete:"off"}))),i.a.createElement("a",{className:"add_confirm_btn",onClick:function(){return e.setInlineBtns()}},"ADD"),i.a.createElement("a",{className:"cancel_btn",onClick:function(){return e.setState({isOpen_btn_modal:!1})}},"CANCEL"))))}}]),a}(i.a.Component));function Ke(e){return i.a.createElement("div",{className:"poll_tb_row"},i.a.createElement("p",{className:"poll_label"},e.title,":"),i.a.createElement("input",{className:"poll_input",name:e.name,placeholder:"What is the best company?"}))}function Ve(e){var t=Object(n.useState)("Multiple Choice"),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),m=l[0],u=l[1];return i.a.createElement("div",{className:"poll_tb_row"},i.a.createElement("input",{type:"hidden",name:"poll_type",value:s}),i.a.createElement("p",{className:"poll_label"},e.title,":"),i.a.createElement("div",{className:"poll_selector",onClick:function(){return u(!m)}},s),i.a.createElement("div",{className:m?"poll_select_list active":"poll_select_list"},i.a.createElement("p",{onClick:function(){r("Multiple Choice"),u(!1)}},"Multiple Choice"),i.a.createElement("p",{onClick:function(){r("Single Choice"),u(!1)}},"Single Choice")))}function Ge(e){return i.a.createElement("div",{className:"poll_tb_row"},i.a.createElement("p",{className:"poll_label"},e.title,":"),i.a.createElement("div",{className:"selectbox_wrap"},i.a.createElement("div",{className:"set_of_timeset"},i.a.createElement(qe,null),i.a.createElement(We,null),i.a.createElement(ze,null))))}function Je(e){var t=Object(n.useState)(3),a=Object(o.a)(t,2),s=a[0],r=a[1];return i.a.createElement("div",{className:"poll_tb_row"},i.a.createElement("p",{className:"poll_label"},e.title,":"),i.a.createElement("div",{className:"poll_response_wrap"},i.a.createElement("input",{name:"poll_opt1",placeholder:"option 1"}),i.a.createElement("input",{name:"poll_opt2",placeholder:"option 2"})),i.a.createElement("div",{className:"add_option_wrap"},i.a.createElement("span",{className:"icon_add_btn",onClick:function(){return function(){var e=document.createElement("input");e.setAttribute("name","poll_opt".concat(s)),e.setAttribute("placeholder","option ".concat(s)),document.querySelector(".poll_response_wrap").appendChild(e),r(s+1)}()}}),i.a.createElement("span",null,"Add another option")))}var Ye=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(p.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"registerPoll",value:function(){var e,t=document.querySelectorAll("input[name^=poll_opt]"),a=[],n=Object(c.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;a.push(i.value)}}catch(s){n.e(s)}finally{n.f()}document.forms[0].poll_question.value,document.forms[0].poll_type.value,document.forms[0].selectedDate.value,document.forms[0].selectedHour.value,document.forms[0].selectedMin.value,JSON.stringify(a)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"poll_section"},i.a.createElement("h4",null,"Create a Poll"),i.a.createElement("form",{className:"poll_tb"},i.a.createElement(Ke,{name:"poll_question",title:"Question"}),i.a.createElement(Ve,{name:"poll_question",title:"Type of Response"}),i.a.createElement(Ge,{name:"poll_question",title:"Closing Time"}),i.a.createElement(Je,{name:"poll_question",title:"Response"}),i.a.createElement("div",{className:"poll_tb_row poll_buttons_wrap"},i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement("a",{className:"send_btn",onClick:function(){return e.registerPoll()}},"Save")))))}}]),a}(i.a.Component);a(336);function Qe(e){switch(e.tab){case 1:return i.a.createElement(Re,{botId:e.botId});case 2:return i.a.createElement(He,{botId:e.botId});case 3:return i.a.createElement(Ze,{botId:e.botId});case 4:return i.a.createElement(Ye,{botId:e.botId})}}var $e=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={active_tab:1},n}return Object(h.a)(a,[{key:"set_activeTab",value:function(e){return this.setState({active_tab:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_interaction"},i.a.createElement(ce,{title:"Interaction"}),i.a.createElement(le,{opt1:"Announcements",opt2:"Welcome Message",opt3:"Auto-Responder",opt4:"Poll",active_tab:this.set_activeTab.bind(this)}),i.a.createElement("div",{className:"content_tab"},i.a.createElement(Qe,{tab:this.state.active_tab,botId:this.props.botId})))}}]),a}(i.a.Component);a(337);function Xe(e){return i.a.createElement("div",{className:"filter_row"},i.a.createElement("p",{className:"filter_field"},function(e){var t="";switch(e){case"anti_image":t="Delete Images";break;case"anti_url":t="Delete URLs";break;case"anti_forward":t="Delete Forwarded Messages";break;case"anti_voice":t="Delete Voice Messages";break;case"anti_gif":t="Delete GIFs";break;case"anti_sticker":t="Delete Stickers";break;case"anti_join_message":t="Delete Join Messages";break;case"anti_left_message":t="Delete Leave Messages";break;case"anti_longname":t="Block Long Name Spammers";break;case"anti_flood":t="Anti-Flood"}return t}(e.name)),i.a.createElement("div",{className:"filter_switch"},i.a.createElement("label",{htmlFor:e.name},i.a.createElement("input",{type:"checkbox",className:"anti_filter",name:e.name,id:e.name,onChange:function(){return t=e.name,void A.a.post("/updateAnti",{field:t,chat_id:window.localStorage.getItem("chat_id")}).then((function(a){a.data&&(Y("Antispam","set item",t+"option"),e.initOptions())}));var t},checked:e.isActive}),i.a.createElement("div",{className:"custom_chbox"}),i.a.createElement("div",{className:"custom_chbox_circle"}))))}var et=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={anti_options:[],blacklist:[],disabledSlashCommand:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.initOptions()}},{key:"initOptions",value:function(){var e=this;A.a.post("/getAnti",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.setState({anti_options:t.data[0]})})),this.getWordData(),this.getWhitelistURL(),this.getWhitelistUser()}},{key:"submit_blacklist",value:function(){var e=this,t=document.forms[1].blacklist.value;if(0!==t.length){var a=window.localStorage.getItem("chat_id");if(0===a.length)return alert("There is any valid key of chatting information"),!1;A.a.post("pushWordData",{word:t,chat_id:a}).then((function(t){t.data&&(e.getWordData(),document.forms[1].blacklist.value="",Y("Antispam","set item","blacklist"))}))}}},{key:"submit_whitelisturl",value:function(){var e=this,t=document.forms[1].whitelisturl.value;if(0!==t.length){var a=window.localStorage.getItem("chat_id");if(!1===this.checkIfPattern(t))return alert("It isn't a valid URL."),!1;if(0===a.length)return alert("There is any valid key of chatting information"),!1;A.a.post("/pushWhitelist",{pattern:t,chat_id:a}).then((function(t){t.data&&(e.getWhitelistURL(),document.forms[1].whitelisturl.value="",Y("Antispam","set item","whitelist"))}))}}},{key:"submit_whitelistUser",value:function(){var e=this,t=document.forms[1].whitelistuser.value;if(0!==t.length){var a=window.localStorage.getItem("chat_id");if(0===a.length)return alert("There is any valid key of chatting information"),!1;A.a.post("/setUserWhitelist",{chat_id:a,username:t}).then((function(t){t.data&&(e.getWhitelistUser(),document.forms[1].whitelistuser.value="",Y("Antispam","set item","whitelist user"))}))}}},{key:"checkIfPattern",value:function(e){if("string"===typeof e){var t=/^\/[\s\S]*\/$/,a=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,}|[a-zA-Z0-9]+\.[^\s]{2,})/;return!t.test(e)&&a.test(e)?"common":!(!t.test(e)||!a.test(e))&&"pattern"}}},{key:"getWordData",value:function(){var e=this;A.a.post("getWordData",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data?e.setState({blacklist:t.data.map((function(t,a){return i.a.createElement("div",{className:"blacklist_item",key:a},i.a.createElement("p",null,t.word_name.length>5?t.word_name.substr(0,3)+"...":t.word_name),i.a.createElement("span",{className:"del_icon",onClick:function(){return e.deleteBlacklist(t.id)}},"\xd7"))}))}):e.setState({blacklist:[]})}))}},{key:"getWhitelistURL",value:function(){var e=this;A.a.post("/getWhitelist",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data?e.setState({whitelistURL:t.data.map((function(t,a){return i.a.createElement("div",{className:"whitelisturl_item",key:a},i.a.createElement("p",null,t.url_pattern.length>11?t.url_pattern.substr(0,8)+"...":t.url_pattern),i.a.createElement("span",{className:"del_icon",onClick:function(){return e.deleteWhitelistURL(t.id)}},"\xd7"))}))}):e.setState({whitelistURL:[]})}))}},{key:"getWhitelistUser",value:function(){var e=this;A.a.post("/getUserWhitelist",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.setState({whitelistUser:t.data.map((function(t,a){return i.a.createElement("div",{className:"whitelistuser_item",key:a},i.a.createElement("p",null,t.username.length>11?t.username_pattern.substr(0,8)+"...":t.username),i.a.createElement("span",{className:"del_icon",onClick:function(){return e.deleteWhitelistUser(t.id)}},"\xd7"))}))})}))}},{key:"deleteBlacklist",value:function(e){var t=this;A.a.post("/delWordData",{chat_id:window.localStorage.getItem("chat_id"),id:e}).then((function(e){e.data&&(t.getWordData(),Y("Antispam","Delete item","blacklist"))}))}},{key:"deleteWhitelistURL",value:function(e){var t=this;A.a.post("/delWhitelist",{chat_id:window.localStorage.getItem("chat_id"),id:e}).then((function(e){e.data&&(t.getWhitelistURL(),Y("Antispam","Delete item","whitelist"))}))}},{key:"deleteWhitelistUser",value:function(e){var t=this;A.a.post("/delWhiteUser",{chat_id:window.localStorage.getItem("chat_id"),id:e}).then((function(e){e.data&&(t.getWhitelistUser(),Y("Antispam","Delete item","whitelist user"))}))}},{key:"toggle_slach_commands",value:function(e){this.setState({disabledSlashCommand:!e}),A.a.post("/updateStateSlashs",{chat_id:window.localStorage.getItem("chat_id"),status:!e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"antispam_section"},i.a.createElement("h2",{className:"section_title"},"Anti-Spam"),i.a.createElement("form",{className:"anti_options"},i.a.createElement("h5",null,"Filters"),i.a.createElement("p",null,"By using filters, the bot will automatically delete unwanted messages like photos, images, and documents."),i.a.createElement("div",{className:"filters"},i.a.createElement(Xe,{name:"anti_image",isActive:this.state.anti_options.anti_image,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_url",isActive:this.state.anti_options.anti_url,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_forward",isActive:this.state.anti_options.anti_forward,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_voice",isActive:this.state.anti_options.anti_voice,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_gif",isActive:this.state.anti_options.anti_gif,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_sticker",isActive:this.state.anti_options.anti_sticker,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_join_message",isActive:this.state.anti_options.anti_join_message,initOptions:this.initOptions.bind(this)}),i.a.createElement(Xe,{name:"anti_left_message",isActive:this.state.anti_options.anti_left_message,initOptions:this.initOptions.bind(this)}))),i.a.createElement("form",{className:"restriction_messages"},i.a.createElement("h5",null,"Restrictions"),i.a.createElement("p",null,"You can restrict words, urls, and even in your chat group. These messages are automatically deleted."),i.a.createElement("div",{className:"restriction_module"},i.a.createElement("h6",null,"Blacklisted Words"),i.a.createElement("p",null,"These words will be automatically deleted by the bot and is case insensitive."),i.a.createElement("div",{className:"restriction_content"},i.a.createElement("div",{className:"blacklist_words"},this.state.blacklist),i.a.createElement("input",{type:"text",name:"blacklist"}),i.a.createElement("a",{className:"add_btn",onClick:function(){return e.submit_blacklist()}},"Add"))),i.a.createElement("div",{className:"restriction_module"},i.a.createElement("h6",null,"Whitelisted URL"),i.a.createElement("p",null,"These are the ONLY URLs that are allowed in your group. Other links will be automatically deleted."),i.a.createElement("div",{className:"restriction_content"},i.a.createElement("div",{className:"blacklist_words"},this.state.whitelistURL),i.a.createElement("input",{type:"text",name:"whitelisturl"}),i.a.createElement("a",{className:"add_btn",onClick:function(){return e.submit_whitelisturl()}},"Add"))),i.a.createElement("div",{className:"restriction_module"},i.a.createElement("h6",null,"Whitelist bots and users"),i.a.createElement("p",null,"Restrictions will not apply to whitelisted bots and users. You can enter their username with or without the @."),i.a.createElement("div",{className:"restriction_content"},i.a.createElement("div",{className:"blacklist_words"},this.state.whitelistUser),i.a.createElement("input",{type:"text",name:"whitelistuser"}),i.a.createElement("a",{className:"add_btn",onClick:function(){return e.submit_whitelistUser()}},"Add")))))}}]),a}(i.a.Component),tt=[{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Pacific/Midway","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Pacific/Honolulu"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Juneau"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Los_Angeles","America/Tijuana"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Los_Angeles","America/Tijuana"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Phoenix"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Denver"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Guatemala"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Mexico_City"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/New_York"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Halifax"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Guyana","America/La_Paz"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Buenos_Aires"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["Atlantic/South_Georgia"]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Monrovia"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Europe/Amsterdam","Europe/Berlin","Europe/Rome","Europe/Vienna"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Europe/Athens","Europe/Bucharest"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Helsinki","Europe/Kiev","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Vilnius"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Harare","Africa/Johannesburg"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Vilnius"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Kuwait","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Nairobi"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Moscow","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Samara"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Muscat"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Asia/Tashkent"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Urumqi"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Asia/Bangkok","Asia/Jakarta"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novosibirsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Kuala_Lumpur","Asia/Singapore"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Tokyo"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Pacific/Guam"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Pacific/Guadalcanal","Pacific/Noumea"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Pacific/Majuro"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}],at=(a(338),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={tz_cur:tt[0],isOpenModal:!1,tz_lists:[],cur_pos:0,isSuccess:!1},n}return Object(h.a)(a,[{key:"handle_tz",value:function(e){this.setState({tz_cur:tt[e],isOpenModal:!1,cur_pos:e})}},{key:"toggleTZPicker",value:function(){var e=this;function t(){var e=this;this.setState({isOpenModal:!1}),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",(function(){return t.call(e)}))}this.setState({isOpenModal:!this.state.isOpenModal}),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",(function(){return t.call(e)}))}},{key:"releaseSuccessMsg",value:function(){this.setState({isSuccess:!1})}},{key:"componentDidMount",value:function(){var e=this;this.setState({tz_lists:tt.map((function(t,a){return i.a.createElement("p",{className:"tz_item","data-tzid":a,onClick:function(){return e.handle_tz(a)}},t.text)}))}),A.a.post("/getTimezone",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.setState({tz_cur:tt[t.data[0].tz_pos]})}))}},{key:"setTimezone",value:function(){var e=this;A.a.post("/setTimezone",{chat_id:window.localStorage.getItem("chat_id"),offset:this.state.tz_cur.offset,timezone:JSON.stringify(this.state.tz_cur.utc),position:this.state.cur_pos}).then((function(t){t.data&&(window.localStorage.setItem("tz_set",t.data),e.setState({isSuccess:!0}),setTimeout((function(){e.setState({isSuccess:!1})}),2e3))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"setting_section"},i.a.createElement("div",{className:this.state.isSuccess?"msg_success is_success":"msg_success"},i.a.createElement("p",null,"Settings have been saved")),i.a.createElement("h2",{className:"seg_title"},"Settings"),i.a.createElement("div",{className:"tz_setting"},i.a.createElement("h4",null,"Time Zone"),i.a.createElement("div",{className:"tz_selection"},i.a.createElement("span",null,"Select Timezone:"),i.a.createElement("div",{className:"tz_picker"},i.a.createElement("a",{onClick:function(){return e.toggleTZPicker()}},this.state.tz_cur.text),i.a.createElement("div",{className:this.state.isOpenModal?"tz_lists open":"tz_lists"},this.state.tz_lists)),i.a.createElement("a",{className:"tz_set_btn",onClick:function(){return e.setTimezone()}},"Set"))))}}]),a}(i.a.Component));a(339);var nt=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),m=l[0],u=l[1],d=Object(n.useState)(),p=Object(o.a)(d,2),h=p[0],_=p[1],g=Object(n.useState)(!1),f=Object(o.a)(g,2),v=f[0],b=f[1];function E(){if(s){var e=s.getFullYear(),t=s.getMonth()+1,a=s.getDate();return"".concat(e,"-").concat(t,"-").concat(a)}var n=new Date(Date.now()-2592e6),i=n.getFullYear(),r=n.getMonth()+1,c=n.getDate();return"".concat(i,"-").concat(r,"-").concat(c)}function y(){if(h){var e=h.getFullYear(),t=h.getMonth()+1,a=h.getDate();return"".concat(e,"-").concat(t,"-").concat(a)}var n=new Date(Date.now()),i=n.getFullYear(),s=n.getMonth()+1,r=n.getDate();return"".concat(i,"-").concat(s,"-").concat(r)}return i.a.createElement("div",{className:"changable_peorid_wrap"},i.a.createElement("span",{className:"date_from",onClick:function(){return function(){u(!m),v&&b(!1),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",function e(){u(!1),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",e.bind(this))}.bind(this))}()}},E()),i.a.createElement("div",{className:m?"picker_datefrom open":"picker_datefrom"},i.a.createElement(Le.a,{onDayClick:function(e){r(e),u(!1)}})),i.a.createElement("span",null,"to"),i.a.createElement("span",{className:"date_to",onClick:function(){return function(){b(!v),m&&u(!1),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",function e(){b(!1),document.querySelector(".dim").style.display="none",document.querySelector(".dim").removeEventListener("click",e.bind(this))}.bind(this))}()}},y()),i.a.createElement("div",{className:v?"picker_dateto open":"picker_dateto"},i.a.createElement(Le.a,{onDayClick:function(e){_(e),b(!1)}})),i.a.createElement("a",{className:"confirm_peorid",onClick:function(){return e.confirm_peorid(E(),y())}},"GO"))},it=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={analystic_data:[]},n}return Object(h.a)(a,[{key:"makeInactiveUserChart",value:function(e){for(var t=new Date(Date.now()),a=[],n=[],i=12;i>=0;i--){var s=new Date(t-864e5*i).toString("MMMM dd").slice(4,10),r=!1;if(a.push(s),e){var o,l=Object(c.a)(e);try{for(l.s();!(o=l.n()).done;){var m=o.value;s==m.ym&&(n.push(m.cnt),r=!0)}}catch(p){l.e(p)}finally{l.f()}}r||n.push(0)}var u=document.getElementById("chart_inactive_user"),d=new Ie.a(u,{type:"bar",data:{labels:a,datasets:[{data:n,borderColor:"#3CB650",borderWidth:2,barThickness:23,label:"New Members"}]},options:{legend:{position:"bottom"},responsive:!1,scales:{yAxes:[{ticks:{stepSize:5,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}],xAxes:[{gridLines:{display:!1}}]}}});d.update(),d.resize()}},{key:"makeTotalMsgChart",value:function(e,t){for(var a=document.querySelector(".date_to").innerText,n=new Date(a),i=[],s=[],r=[],o=[],l=[],m=[],u=t;u>=0;u--){var d=new Date(Number(n-864e5*u)).toString("MMMM dd").slice(4,10),p=!1,h=!1,_=!1,g=!1,f=!1;if(i.push(d),e&&0!==e.length){var v,b=Object(c.a)(e.total);try{for(b.s();!(v=b.n()).done;){d==(A=v.value).ym&&(s.push(A.cnt),p=!0)}}catch(O){b.e(O)}finally{b.f()}var E,y=Object(c.a)(e.text);try{for(y.s();!(E=y.n()).done;){d==(A=E.value).ym&&(r.push(A.cnt),h=!0)}}catch(O){y.e(O)}finally{y.f()}var k,w=Object(c.a)(e.question);try{for(w.s();!(k=w.n()).done;){d==(A=k.value).ym&&(o.push(A.cnt),_=!0)}}catch(O){w.e(O)}finally{w.f()}var S,C=Object(c.a)(e.media);try{for(C.s();!(S=C.n()).done;){d==(A=S.value).ym&&(l.push(A.cnt),g=!0)}}catch(O){C.e(O)}finally{C.f()}var N,T=Object(c.a)(e.forward);try{for(T.s();!(N=T.n()).done;){var A;d==(A=N.value).ym&&(m.push(A.cnt),f=!0)}}catch(O){T.e(O)}finally{T.f()}}p||s.push(0),h||r.push(0),_||o.push(0),g||l.push(0),f||m.push(0)}var M=document.getElementById("chart_total_messege"),x=new Ie.a(M,{type:"line",data:{labels:i,datasets:[{data:s,borderColor:"#F4D30F",borderWidth:2,pointBackgroundColor:"#F4D30F",lineTension:0,fill:!1,label:"total",pointBorderWidth:.5},{data:r,borderColor:"#2C55F9",borderWidth:2,pointBackgroundColor:"#2C55F9",lineTension:0,fill:!1,label:"text",pointBorderWidth:.5},{data:o,borderColor:"#3CB450",borderWidth:2,pointBackgroundColor:"#3CB450",lineTension:0,fill:!1,label:"question",pointBorderWidth:.5},{data:l,borderColor:"#189BEE",borderWidth:2,pointBackgroundColor:"#189BEE",lineTension:0,fill:!1,label:"media",pointBorderWidth:.5},{data:m,borderColor:"#644AC4",borderWidth:2,pointBackgroundColor:"#644AC4",lineTension:0,fill:!1,label:"forward",pointBorderWidth:.5}]},options:{legend:{position:"bottom"},responsive:!1,scales:{yAxes:[{ticks:{suggestedMin:20,suggestedMax:100,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}],xAxes:[{ticks:{fontSize:10,fontFamily:"muli-ragular"},gridLines:{display:!1}}]}}});x.update(),x.resize()}},{key:"getDateAMonthAgo",value:function(){var e=new Date(Date.now());return e.setDate(e.getDate()-30),"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDay())}},{key:"confirmPeorid",value:function(e,t){var a=this;A.a.post("/getAnalysticData",{chat_id:window.localStorage.getItem("chat_id"),date_from:e,date_to:t}).then((function(n){if(n.data){var i=new Date(e),s=(new Date(t)-i)/864e5,r=0;if(0!==n.data.length){var o,l=Object(c.a)(n.data.total);try{for(l.s();!(o=l.n()).done;){r+=o.value.cnt}}catch(m){l.e(m)}finally{l.f()}}a.setState({analystic_data:r}),a.makeTotalMsgChart(n.data,s),Y("Analystic","Change duration","Change duration of member activities")}}))}},{key:"componentDidMount",value:function(){var e=this;A.a.post("/getAnalysticData",{chat_id:window.localStorage.getItem("chat_id"),date_from:this.getDateAMonthAgo(),date_to:"today"}).then((function(t){if(t.data){var a=0;if(0!==t.data.length){var n,i=Object(c.a)(t.data.total);try{for(i.s();!(n=i.n()).done;){a+=n.value.cnt}}catch(s){i.e(s)}finally{i.f()}}e.setState({analystic_data:a}),e.makeTotalMsgChart(t.data,30)}})),A.a.post("/getInactiveUsers",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.makeInactiveUserChart(t.data)})),Y("Analystic","load module","Member Activities")}},{key:"render",value:function(){return i.a.createElement("div",{className:"content_wrap"},i.a.createElement(nt,{confirm_peorid:this.confirmPeorid.bind(this)}),i.a.createElement("div",{className:"chart_total_message_wrap"},i.a.createElement("h5",null,"Total Messages"),i.a.createElement("p",null,this.state.analystic_data," messages"),i.a.createElement("div",{className:"chart_canvas_wrap"},i.a.createElement("canvas",{id:"chart_total_messege",width:"1186",height:"200"}))),i.a.createElement("div",{className:"chart_inactive_user_wrap"},i.a.createElement("h5",null,"Inactive Users"),i.a.createElement("div",{className:"chart_canvas_wrap"},i.a.createElement("canvas",{id:"chart_inactive_user",width:"1186",height:"200"}))))}}]),a}(i.a.Component),st=(a(340),function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={total_member:0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChatMembersCount"),{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data.result&&e.setState({total_member:t.data.result})})),A.a.post("/getAnalysticCommunityMember",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){t.data&&e.makeChart(t.data,30)})),Y("Analystic","load module","Community")}},{key:"confirmPeorid",value:function(e,t){var a=this;A.a.post("/getAnalysticCommunityMember",{chat_id:window.localStorage.getItem("chat_id"),date_from:e,date_to:t}).then((function(n){if(n.data){var i=new Date(e),s=(new Date(t)-i)/864e5;a.makeChart(n.data,s),Y("Analystic","Change duration","Change duration of community")}}))}},{key:"makeChart",value:function(e,t){for(var a=document.querySelector(".date_to").innerText,n=new Date(a),i=[],s=[],r=[],o=t;o>=0;o--){var l=new Date(n-864e5*o).toString("MMMM dd").slice(4,10),m=!1,u=!1;if(i.push(l),e&&0!==e.length){var d,p=Object(c.a)(e.new);try{for(p.s();!(d=p.n()).done;){l==(g=d.value).ym&&(s.push(g.cnt),m=!0)}}catch(b){p.e(b)}finally{p.f()}var h,_=Object(c.a)(e.left);try{for(_.s();!(h=_.n()).done;){var g;l==(g=h.value).ym&&(r.push(g.cnt),u=!0)}}catch(b){_.e(b)}finally{_.f()}}m||s.push(0),u||r.push(0)}var f=document.getElementById("chart_community_member"),v=new Ie.a(f,{type:"line",data:{labels:i,datasets:[{data:s,borderColor:"#255CF9",borderWidth:2,pointBackgroundColor:"#255CF9",lineTension:0,fill:!1,label:"New Members",pointBorderWidth:.5},{data:r,borderColor:"#CC0A04",borderWidth:2,pointBackgroundColor:"#CC0A04",lineTension:0,fill:!1,pointBorderWidth:.5,label:"Left Members"}]},options:{legend:{position:"bottom"},responsive:!1,scales:{yAxes:[{ticks:{stepSize:5,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}],xAxes:[{gridLines:{display:!1}}]}}});v.update(),v.resize()}},{key:"render",value:function(){return i.a.createElement("div",{className:"content_wrap"},i.a.createElement(nt,{confirm_peorid:this.confirmPeorid.bind(this)}),i.a.createElement("div",{className:"chart_community_member_wrap"},i.a.createElement("h5",null,"Members"),i.a.createElement("p",null,this.state.total_member),i.a.createElement("div",{className:"chart_canvas_wrap"},i.a.createElement("canvas",{id:"chart_community_member",width:"1186",height:"200"}))))}}]),a}(i.a.Component)),rt=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={total_member:0},n}return Object(h.a)(a,[{key:"getDateAMonthAgo",value:function(){var e=new Date(Date.now());return e.setDate(e.getDate()-30),"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDay())}},{key:"componentDidMount",value:function(){var e=this;A.a.post("/getAnalysticBotActivities",{chat_id:window.localStorage.getItem("chat_id"),date_from:this.getDateAMonthAgo(),date_to:"today"}).then((function(t){t.data&&e.makeChart(t.data,30)})),Y("Analystic","load module","Bot Activities")}},{key:"confirmPeorid",value:function(e,t){var a=this;A.a.post("/getAnalysticBotActivities",{chat_id:window.localStorage.getItem("chat_id"),date_from:e,date_to:t}).then((function(n){if(n.data){var i=new Date(e),s=(new Date(t)-i)/864e5;a.makeChart(n.data,s),Y("Analystic","Change duration","Change duration of bot activities")}}))}},{key:"makeChart",value:function(e,t){for(var a=document.querySelector(".date_to").innerText,n=new Date(a),i=[],s=[],r=[],o=[],l=[],m=t;m>=0;m--){var u=new Date(n-864e5*m).toString("MMMM dd").slice(4,10),d=!1,p=!1,h=!1,_=!1;if(i.push(u),e&&0!==e.length){var g,f=Object(c.a)(e.restrict);try{for(f.s();!(g=f.n()).done;){u==(S=g.value).ym&&(l.push(S.cnt),_=!0)}}catch(T){f.e(T)}finally{f.f()}var v,b=Object(c.a)(e.sent);try{for(b.s();!(v=b.n()).done;){u==(S=v.value).ym&&(s.push(S.cnt),d=!0)}}catch(T){b.e(T)}finally{b.f()}var E,y=Object(c.a)(e.deleted);try{for(y.s();!(E=y.n()).done;){u==(S=E.value).ym&&(r.push(S.cnt),p=!0)}}catch(T){y.e(T)}finally{y.f()}var k,w=Object(c.a)(e.kick);try{for(w.s();!(k=w.n()).done;){var S;u==(S=k.value).ym&&(o.push(S.cnt),h=!0)}}catch(T){w.e(T)}finally{w.f()}}d||s.push(0),p||r.push(0),h||o.push(0),_||l.push(0)}var C=document.getElementById("chart_bot_activities"),N=new Ie.a(C,{type:"line",data:{labels:i,datasets:[{data:s,borderColor:"#3CB450",borderWidth:2,pointBackgroundColor:"#3CB450",lineTension:0,fill:!1,label:"Sent Messages",pointBorderWidth:.5},{data:r,borderColor:"#1C62F9",borderWidth:2,pointBackgroundColor:"#1C62F9",lineTension:0,fill:!1,pointBorderWidth:.5,label:"Deleted Messages"},{data:o,borderColor:"#634FC4",borderWidth:2,pointBackgroundColor:"#634FC4",lineTension:0,fill:!1,pointBorderWidth:.5,label:"Kicked Members"},{data:l,borderColor:"#F49D11",borderWidth:2,pointBackgroundColor:"#F49D11",lineTension:0,fill:!1,pointBorderWidth:.5,label:"Restricted members"}]},options:{legend:{position:"bottom"},responsive:!1,scales:{yAxes:[{ticks:{stepSize:5,beginAtZero:!0,fontSize:10,fontFamily:"muli-ragular"}}],xAxes:[{gridLines:{display:!1}}]}}});N.update(),N.resize()}},{key:"render",value:function(){return i.a.createElement("div",{className:"content_wrap"},i.a.createElement(nt,{confirm_peorid:this.confirmPeorid.bind(this)}),i.a.createElement("div",{className:"chart_bot_activities_wrap"},i.a.createElement("h5",null,"Bot Usage Activity"),i.a.createElement("p",null),i.a.createElement("div",{className:"chart_canvas_wrap"},i.a.createElement("canvas",{id:"chart_bot_activities",width:"1186",height:"200"}))))}}]),a}(i.a.Component);a(434);function ct(e){return 1===e.num?i.a.createElement(it,null):2===e.num?i.a.createElement(st,{botId:e.botId}):3===e.num?i.a.createElement(rt,null):void 0}var ot=function(e){Object(_.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={active_tab:1},n}return Object(h.a)(a,[{key:"set_activeTab",value:function(e){return this.setState({active_tab:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"analystic_section"},i.a.createElement(ce,{title:"Analytics"}),i.a.createElement(le,{opt1:"Member Activity Report",opt2:"Community Report",opt3:"Bot Usage Report",active_tab:this.set_activeTab.bind(this)}),i.a.createElement(ct,{num:this.state.active_tab,botId:this.props.botId}))}}]),a}(i.a.Component);A.a.defaults.baseURL="https://hysoop.com/api/",u.a.initialize("UA-125314475-4",{debug:!0});var lt=Object(d.a)();lt.listen((function(e){u.a.set({page:e.hash}),u.a.pageview(e.hash)}));var mt=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("word"),u=Object(o.a)(r,2),d=u[0],p=u[1],h=Object(n.useState)([]),_=Object(o.a)(h,2),g=(_[0],_[1]),f=Object(n.useState)("1945387060:AAFhtD9o3tJVaj_x8f3v8Ztc9iZZZGEjJds"),v=Object(o.a)(f,2),b=v[0],E=(v[1],Object(n.useState)("aqoom_bot")),y=Object(o.a)(E,2),k=y[0],w=(y[1],"true"==C("living")),S="true"==C("STAY_C");function C(e){var t,a=document.cookie.split(";"),n=Object(c.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value.split("=");if(i[0].trim()===e)return i[1]}}catch(s){n.e(s)}finally{n.f()}}return a||S?i.a.createElement(l.a,{basename:"/chatmanager",history:lt},i.a.createElement(X,{botId:b}),i.a.createElement($,{setStatus:p,statusNav:d,setChatInfo:g,botId:b}),i.a.createElement("div",{className:"main_container"},i.a.createElement(Q,{setStatus:p,statusNav:d,setChatInfo:g,botId:b}),i.a.createElement("section",{className:"section_content"},i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/",exact:!0,render:function(){return i.a.createElement(xe,{botId:b})}}),i.a.createElement(m.a,{path:"/analytics",render:function(){return i.a.createElement(ot,{botId:b})}}),i.a.createElement(m.a,{path:"/members",render:function(){return i.a.createElement(xe,{botId:b})}}),i.a.createElement(m.a,{path:"/messages",render:function(){return i.a.createElement(we,{botId:b})}}),i.a.createElement(m.a,{path:"/user",render:function(){return i.a.createElement(Ue,{botId:b})}}),i.a.createElement(m.a,{path:"/logs",render:function(){return i.a.createElement(Se,{botId:b})}}),i.a.createElement(m.a,{path:"/interactions",render:function(){return i.a.createElement($e,{botId:b})}}),i.a.createElement(m.a,{path:"/antispam",render:function(){return i.a.createElement(et,{botId:b})}}),i.a.createElement(m.a,{path:"/settings",render:function(){return i.a.createElement(at,{botId:b})}}))),i.a.createElement("div",{className:"dim"}))):i.a.createElement(l.a,{history:lt},i.a.createElement("div",{className:"App"},i.a.createElement(se,{onLogin:w,setValid:s}),i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/",exact:!0,render:function(){return i.a.createElement(N,null)}}),i.a.createElement(m.a,{path:"/features",render:function(){return i.a.createElement(K,null)}}),i.a.createElement(m.a,{path:"/signin",render:function(){return i.a.createElement(j,{botName:k})}})),i.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(435);r.a.render(i.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[291,1,2]]]);
//# sourceMappingURL=main.96172924.chunk.js.map